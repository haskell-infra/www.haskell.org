%!PS-Adobe-2.0
%%Creator: dvips(k) 5.85 Copyright 1999 Radical Eye Software
%%Title: happy.dvi
%%Pages: 33
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Helvetica-Bold Times-Roman Times-Bold Times-Italic
%%+ Courier Courier-Bold
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips happy.dvi -o happy.ps
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2000.07.13:1640
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
%%BeginProcSet: color.pro
%!
TeXDict begin/setcmykcolor where{pop}{/setcmykcolor{dup 10 eq{pop
setrgbcolor}{1 sub 4 1 roll 3{3 index add neg dup 0 lt{pop 0}if 3 1 roll
}repeat setrgbcolor pop}ifelse}B}ifelse/TeXcolorcmyk{setcmykcolor}def
/TeXcolorrgb{setrgbcolor}def/TeXcolorgrey{setgray}def/TeXcolorgray{
setgray}def/TeXcolorhsb{sethsbcolor}def/currentcmykcolor where{pop}{
/currentcmykcolor{currentrgbcolor 10}B}ifelse/DC{exch dup userdict exch
known{pop pop}{X}ifelse}B/GreenYellow{0.15 0 0.69 0 setcmykcolor}DC
/Yellow{0 0 1 0 setcmykcolor}DC/Goldenrod{0 0.10 0.84 0 setcmykcolor}DC
/Dandelion{0 0.29 0.84 0 setcmykcolor}DC/Apricot{0 0.32 0.52 0
setcmykcolor}DC/Peach{0 0.50 0.70 0 setcmykcolor}DC/Melon{0 0.46 0.50 0
setcmykcolor}DC/YellowOrange{0 0.42 1 0 setcmykcolor}DC/Orange{0 0.61
0.87 0 setcmykcolor}DC/BurntOrange{0 0.51 1 0 setcmykcolor}DC
/Bittersweet{0 0.75 1 0.24 setcmykcolor}DC/RedOrange{0 0.77 0.87 0
setcmykcolor}DC/Mahogany{0 0.85 0.87 0.35 setcmykcolor}DC/Maroon{0 0.87
0.68 0.32 setcmykcolor}DC/BrickRed{0 0.89 0.94 0.28 setcmykcolor}DC/Red{
0 1 1 0 setcmykcolor}DC/OrangeRed{0 1 0.50 0 setcmykcolor}DC/RubineRed{
0 1 0.13 0 setcmykcolor}DC/WildStrawberry{0 0.96 0.39 0 setcmykcolor}DC
/Salmon{0 0.53 0.38 0 setcmykcolor}DC/CarnationPink{0 0.63 0 0
setcmykcolor}DC/Magenta{0 1 0 0 setcmykcolor}DC/VioletRed{0 0.81 0 0
setcmykcolor}DC/Rhodamine{0 0.82 0 0 setcmykcolor}DC/Mulberry{0.34 0.90
0 0.02 setcmykcolor}DC/RedViolet{0.07 0.90 0 0.34 setcmykcolor}DC
/Fuchsia{0.47 0.91 0 0.08 setcmykcolor}DC/Lavender{0 0.48 0 0
setcmykcolor}DC/Thistle{0.12 0.59 0 0 setcmykcolor}DC/Orchid{0.32 0.64 0
0 setcmykcolor}DC/DarkOrchid{0.40 0.80 0.20 0 setcmykcolor}DC/Purple{
0.45 0.86 0 0 setcmykcolor}DC/Plum{0.50 1 0 0 setcmykcolor}DC/Violet{
0.79 0.88 0 0 setcmykcolor}DC/RoyalPurple{0.75 0.90 0 0 setcmykcolor}DC
/BlueViolet{0.86 0.91 0 0.04 setcmykcolor}DC/Periwinkle{0.57 0.55 0 0
setcmykcolor}DC/CadetBlue{0.62 0.57 0.23 0 setcmykcolor}DC
/CornflowerBlue{0.65 0.13 0 0 setcmykcolor}DC/MidnightBlue{0.98 0.13 0
0.43 setcmykcolor}DC/NavyBlue{0.94 0.54 0 0 setcmykcolor}DC/RoyalBlue{1
0.50 0 0 setcmykcolor}DC/Blue{1 1 0 0 setcmykcolor}DC/Cerulean{0.94 0.11
0 0 setcmykcolor}DC/Cyan{1 0 0 0 setcmykcolor}DC/ProcessBlue{0.96 0 0 0
setcmykcolor}DC/SkyBlue{0.62 0 0.12 0 setcmykcolor}DC/Turquoise{0.85 0
0.20 0 setcmykcolor}DC/TealBlue{0.86 0 0.34 0.02 setcmykcolor}DC
/Aquamarine{0.82 0 0.30 0 setcmykcolor}DC/BlueGreen{0.85 0 0.33 0
setcmykcolor}DC/Emerald{1 0 0.50 0 setcmykcolor}DC/JungleGreen{0.99 0
0.52 0 setcmykcolor}DC/SeaGreen{0.69 0 0.50 0 setcmykcolor}DC/Green{1 0
1 0 setcmykcolor}DC/ForestGreen{0.91 0 0.88 0.12 setcmykcolor}DC
/PineGreen{0.92 0 0.59 0.25 setcmykcolor}DC/LimeGreen{0.50 0 1 0
setcmykcolor}DC/YellowGreen{0.44 0 0.74 0 setcmykcolor}DC/SpringGreen{
0.26 0 0.76 0 setcmykcolor}DC/OliveGreen{0.64 0 0.95 0.40 setcmykcolor}
DC/RawSienna{0 0.72 1 0.45 setcmykcolor}DC/Sepia{0 0.83 1 0.70
setcmykcolor}DC/Brown{0 0.81 1 0.60 setcmykcolor}DC/Tan{0.14 0.42 0.56 0
setcmykcolor}DC/Gray{0 0 0 0.50 setcmykcolor}DC/Black{0 0 0 1
setcmykcolor}DC/White{0 0 0 0 setcmykcolor}DC end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (happy.dvi)
@start /Fa 135[45 5[45 2[45 45 45 45 6[45 45 2[45 59[45
37[{TeXBase1Encoding ReEncodeFont}10 74.7198 /Courier-Bold
rf /Fb 106[21 149[{TeXBase1Encoding ReEncodeFont}1 59.7758
/Times-Roman rf /Fc 206[25 49[{TeXBase1Encoding ReEncodeFont}1
49.8132 /Times-Roman rf /Fd 134[66 66 93 66 73 40 66
47 73 73 73 73 106 33 66 1[33 73 73 1[66 73 66 73 66
12[73 80 86 1[80 1[86 100 73 3[86 2[80 86 86 1[86 10[66
66 66 66 66 66 2[33 40 3[40 40 40[{TeXBase1Encoding ReEncodeFont}45
119.552 /Helvetica-Bold rf /Fe 106[23 149[{
TeXBase1Encoding ReEncodeFont}1 66.4176 /Times-Roman
rf /Ff 134[37 1[54 37 37 21 29 25 1[37 37 37 58 21 2[21
37 37 25 33 37 33 37 33 7[54 54 71 54 54 46 42 50 54
42 54 54 66 46 2[25 54 54 42 46 54 50 50 54 5[21 21 7[37
1[37 21 19 1[19 2[25 25 5[30 31[42 2[{TeXBase1Encoding ReEncodeFont}55
74.7198 /Times-Roman rf /Fg 68[45 61[45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 1[45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 3[45 1[45 45 45 1[45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 45 1[45
45 45 45 45 45 2[45 1[45 45 45 45 45 45 45 45 45 45 45
45 45 45 1[45 45 45 45 34[{TeXBase1Encoding ReEncodeFont}82
74.7198 /Courier rf /Fh 134[37 37 1[37 42 23 32 32 42
42 42 42 60 23 37 1[23 42 42 23 37 42 37 1[42 11[60 46
42 9[28 60 60 51 2[55 9[42 42 42 42 42 42 42 42 42 42
1[21 28 45[{TeXBase1Encoding ReEncodeFont}42 83.022 /Times-Italic
rf /Fi 134[42 42 60 42 46 28 32 37 1[46 42 46 69 23 46
1[23 46 42 28 37 46 37 1[42 11[60 55 46 4[60 4[32 65
65 51 12[42 42 1[42 42 42 42 42 42 2[21 28 45[{
TeXBase1Encoding ReEncodeFont}40 83.022 /Times-Bold rf
/Fj 134[96 96 1[96 105 57 96 67 1[105 105 105 153 48
96 1[48 105 105 57 96 105 96 105 96 11[124 105 115 9[48
124 134 105 2[124 12[96 96 96 96 96 96 2[48 46[{
TeXBase1Encoding ReEncodeFont}37 172.154 /Helvetica-Bold
rf /Fk 86[63 17[83 2[37 37 24[37 42 42 60 42 42 23 32
28 42 42 42 42 65 23 42 23 23 42 42 28 37 42 37 42 37
28 42 5[60 1[78 60 60 51 46 55 1[46 60 60 74 51 60 32
28 60 60 46 51 60 55 55 60 1[37 47 47 47 23 23 42 42
42 42 42 42 42 42 42 42 23 21 28 21 2[28 28 28 1[69 3[28
29[46 46 2[{TeXBase1Encoding ReEncodeFont}82 83.022 /Times-Roman
rf /Fl 134[46 3[51 1[46 32 1[51 6[23 3[46 51 2[46 11[60
12[60 65 71[{TeXBase1Encoding ReEncodeFont}12 83.022
/Helvetica-Bold rf /Fm 134[80 80 112 80 88 48 80 56 88
88 88 88 128 40 80 1[40 88 88 48 80 88 80 88 80 11[104
88 96 104 1[96 112 104 120 88 3[104 112 88 96 104 104
104 104 9[80 80 80 80 80 80 80 2[40 48 41[88 3[{
TeXBase1Encoding ReEncodeFont}51 143.462 /Helvetica-Bold
rf /Fn 134[115 3[126 1[115 80 1[126 6[57 3[115 126 2[115
11[149 12[149 161 71[{TeXBase1Encoding ReEncodeFont}12
206.584 /Helvetica-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop Black Black 977 647 a Fn(Happ)m(y)58 b(User)f(Guide)1386
1767 y Fm(Simon)38 b(Marlo)n(w)1557 2044 y(And)n(y)h(Gill)p
Black Black eop
%%Page: 2 2
2 1 bop Black Black -2 579 a Fl(Happ)o(y)22 b(User)i(Guide)-2
687 y Fk(by)c(Simon)f(Marlo)n(w)-2 903 y(by)h(Andy)f(Gill)-2
1119 y(Cop)o(yright)f(\251)j(1997-2000)c(by)j(Simon)f(Marlo)n(w)-2
1351 y(This)h(document)e(describes)i(Happ)o(y)-5 b(,)19
b(the)h(Hask)o(ell)g(P)o(arser)g(Generator)m(,)e(v)o(ersion)h(1.8.)p
Black Black eop
%%Page: 3 3
3 2 bop Black Black -2 621 a Fj(T)-14 b(ab)n(le)48 b(of)g(Contents)396
815 y Fi(1.)20 b(Intr)o(oduction)p Black 2 w(.)p Black
Black -1 w(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black 11 w(4)596 943 y Fk(1.1.)f(Compatibility)p
Black 18 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black 11 w(4)596 1051 y(1.2.)g(Reporting)g(Bugs)p
Black 20 w(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black 11 w(4)596 1159 y(1.3.)g(License)p Black
15 w(.)p Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black 11 w(5)596 1267 y(1.4.)g(Obtaining)g(Happ)o(y)p
Black 12 w(.)p Black Black -2 w(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black 11 w(5)396 1395
y Fi(2.)h(Using)h(Happy)p Black 10 w(.)p Black Black
-2 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
11 w(6)596 1523 y Fk(2.1.)e(Returning)g(other)g(datatypes)p
Black 17 w(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black 11 w(9)596 1631 y(2.2.)g(P)o(arsing)g(sequences)p
Black 1 w(.)p Black Black -1 w(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black 10 w(10)795 1739
y(2.2.1.)f(Sequences)i(with)g(separators)p Black 8 w(.)p
Black Black -2 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black 10 w(11)596 1847 y(2.3.)f(Ambiguities)p Black 9
w(.)p Black Black -2 w(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black 10 w(12)596 1955 y(2.4.)g(Using)h(Precedences)p
Black 16 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
10 w(12)795 2062 y(2.4.1.)e(Ho)n(w)i(precedence)f(w)o(orks)p
Black 4 w(.)p Black Black -2 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black 10 w(13)795
2170 y(2.4.2.)f(Conte)o(xt-dependent)f(Precedence)p Black(.)p
Black Black -2 w(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black 10 w(13)596
2278 y(2.5.)i(T)-7 b(ype)20 b(Signatures)p Black 9 w(.)p
Black Black -3 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black 10 w(14)596 2386 y(2.6.)f(Monadic)g(P)o(arsers)p
Black 10 w(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black 10 w(15)795 2494 y(2.6.1.)f(Handling)h(P)o(arse)h
(Errors)p Black 2 w(.)p Black Black -1 w(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black 10 w(16)795 2602
y(2.6.2.)e(Threaded)h(Le)o(x)o(ers)p Black 13 w(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black 10 w(17)795 2710
y(2.6.3.)f(Line)i(Numbers)p Black 13 w(.)p Black Black
-2 w(.)p Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black 10 w(19)795
2818 y(2.6.4.)e(Summary)p Black 1 w(.)p Black Black -2
w(.)p Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black 10 w(20)596 2926 y(2.7.)h(The)h(Error)f(T)-7
b(ok)o(en)p Black 12 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black 10 w(21)396 3054 y Fi(3.)20 b(In)m(v)o(oking)g
(Happy)p Black 2 w(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black 10 w(22)396 3182 y(4.)g(Syntax)g(of)f(Grammar)h(Files)p
Black 7 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black 10 w(24)596
3309 y Fk(4.1.)f(Le)o(xical)g(Rules)p Black 3 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black 10 w(24)596 3417 y(4.2.)g(Module)g(Header)p
Black 4 w(.)p Black Black -1 w(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
10 w(24)596 3525 y(4.3.)g(Directi)n(v)o(es)p Black 18
w(.)p Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black 10 w(25)795 3633 y(4.3.1.)f(T)-7 b(ok)o(en)20
b(T)-7 b(ype)p Black 16 w(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black 10 w(25)795
3741 y(4.3.2.)18 b(T)-7 b(ok)o(ens)p Black 4 w(.)p Black
Black -1 w(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black 10 w(25)795
3849 y(4.3.3.)18 b(P)o(arser)i(Name)p Black 2 w(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
10 w(26)795 3957 y(4.3.4.)e(Monad)h(Directi)n(v)o(e)p
Black 11 w(.)p Black Black -1 w(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black 10 w(26)795 4065 y(4.3.5.)f(Le)o(xical)i(Analyser)p
Black 5 w(.)p Black Black -2 w(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black 10 w(26)795 4173 y(4.3.6.)e(Precedence)h(declarations)p
Black 1 w(.)p Black Black -2 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black 10 w(26)596 4281 y(4.4.)g(Grammar)p
Black 16 w(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black 10 w(27)596
4389 y(4.5.)g(Module)g(T)m(railer)p Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black 10 w(27)396 4517
y Fi(5.)h(Inf)n(o)h(Files)p Black 16 w(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black 10 w(28)396 4644 y(6.)f(T)o(ips)p Black 6 w(.)p
Black Black 1 w(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black 10 w(29)596 4772 y Fk(6.1.)f(Performance)f(T)m(ips)p
Black 16 w(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black 10 w(29)596 4880 y(6.2.)h
(Compilation-T)m(ime)f(T)m(ips)p Black 12 w(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black 10 w(29)596 4988 y(6.3.)h(Finding)g(T)-7
b(ype)20 b(Errors)p Black 16 w(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black 10 w(30)596 5096
y(6.4.)f(Con\003ict)h(T)m(ips)p Black 7 w(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black 10 w(30)795 5204
y(6.4.1.)e(LALR\(1\))i(parsers)p Black 3 w(.)p Black
Black -1 w(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black Black(.)p Black
Black -1 w(.)p Black Black(.)p Black Black(.)p Black
Black(.)p Black Black -1 w(.)p Black Black(.)p Black
Black(.)p Black Black(.)p Black Black -1 w(.)p Black
Black(.)p Black Black(.)p Black Black(.)p Black Black
-1 w(.)p Black Black(.)p Black Black(.)p Black Black(.)p
Black Black -1 w(.)p Black Black(.)p Black Black(.)p
Black Black(.)p Black Black -1 w(.)p Black Black(.)p
Black Black(.)p Black Black(.)p Black Black -1 w(.)p
Black Black(.)p Black Black(.)p Black 10 w(31)p Black
3703 5692 a Fh(3)p Black eop
%%Page: 4 4
4 3 bop Black Black -2 621 a Fj(Chapter)48 b(1.)f(Intr)m(oduction)396
869 y Fk(Happ)o(y)19 b(is)i(a)f(parser)f(generator)e(system)j(for)f
(Hask)o(ell,)h(similar)g(to)g(the)f(tool)h(yaccfor)e(C.)i(Lik)o(e)g
(yacc,)f(it)h(tak)o(es)g(a)g(\002le)396 977 y(containing)f(an)h
(annotated)e(BNF)j(speci\002cation)f(of)g(a)g(grammar)f(and)g(produces)
g(a)i(Hask)o(ell)f(module)f(containing)396 1085 y(a)i(parser)e(for)h
(the)g(grammar)-5 b(.)396 1235 y(Happ)o(y)20 b(is)h(\003e)o(xible;)e
(unlik)o(e)h(yacc,)f(you)h(can)g(ha)n(v)o(e)f(se)n(v)o(eral)h(Happ)o(y)
f(parsers)h(in)g(the)g(same)h(program.)d(Happ)o(y)h(can)396
1343 y(w)o(ork)h(in)g(conjunction)e(with)i(a)h(le)o(xical)f(analyser)f
(supplied)g(by)h(the)g(user)g(\(either)g(hand-written)e(or)i(generated)
e(by)396 1450 y(another)h(program\),)e(or)j(it)h(can)f(parse)g(a)h
(stream)f(of)g(characters)f(directly)g(\(b)n(ut)h(this)h(isn')o(t)f
(practical)f(in)i(most)396 1558 y(cases\).)g(In)f(a)g(future)f(v)o
(ersion)g(we)i(hope)e(to)h(include)f(a)i(le)o(xical)f(analyser)f
(generator)f(with)j(Happ)o(y)e(as)i(a)g(single)396 1666
y(package.)396 1816 y(P)o(arsers)g(generated)d(by)i(Happ)o(y)f(are)h(f)
o(ast;)h(generally)e(f)o(aster)h(than)g(an)g(equi)n(v)n(alent)e(parser)
i(written)g(using)g(parsing)396 1924 y(combinators)e(or)i(similar)h
(tools.)f(Furthermore,)d(an)o(y)j(future)f(impro)o(v)o(ements)e(made)j
(to)g(Happ)o(y)f(will)i(bene\002t)f(an)396 2032 y(e)o(xisting)g
(grammar)m(,)e(without)h(need)h(for)f(a)i(re)n(write.)396
2181 y(Happ)o(y)f(is)h(suf)n(\002ciently)e(po)n(werful)f(to)j(parse)f
(Hask)o(ell)g(itself)h(-)f(there')-5 b(s)20 b(a)h(freely)e(a)n(v)n
(ailable)h(Hask)o(ell)h(parser)396 2289 y(written)f(using)g(Happ)o(y)f
(which)h(can)g(be)g(obtained)f(from)40 b(The)19 b Fg(hsparser)h
Fk(P)o(age)396 2397 y(\(http://www)-5 b(.pms.informatik.uni-m)o(uen)o
(che)o(n.d)o(e/mitar)o(beiter)o(/pan)o(ne/h)o(ask)o(ell_lib)o
(s/hsparser)f(.html\))o(.)396 2546 y(Happ)o(y)20 b(can)g(currently)e
(generate)h(four)g(types)h(of)g(parser)f(from)h(a)g(gi)n(v)o(en)f
(grammar)m(,)f(the)i(intention)f(being)g(that)i(we)396
2654 y(can)f(e)o(xperiment)e(with)j(dif)n(ferent)d(kinds)i(of)g
(functional)e(code)i(to)g(see)h(which)e(is)j(the)e(best,)g(and)g
(compiler)f(writers)396 2762 y(can)h(use)h(the)f(dif)n(ferent)e(types)i
(of)g(parser)g(to)g(tune)g(their)g(compilers.)f(The)h(types)g(of)g
(parser)f(supported)f(are:)p Black 463 2995 a(1.)p Black
20 w(`standard')g(Hask)o(ell)j(98)e(\(should)g(w)o(ork)h(with)g(an)o(y)
f(compiler)g(that)i(compiles)e(Hask)o(ell)i(98\).)p Black
463 3144 a(2.)p Black 20 w(standard)e(Hask)o(ell)h(using)g(arrays)61
b(\(this)20 b(is)i(not)d(the)i(def)o(ault)e(because)h(we)g(ha)n(v)o(e)g
(found)e(this)j(generates)546 3252 y(slo)n(wer)f(parsers)g(than)f(1\).)
p Black 463 3401 a(3.)p Black 20 w(Hask)o(ell)h(with)h(GHC)g(\(Glasgo)n
(w)e(Hask)o(ell\))h(e)o(xtensions.)f(This)h(is)i(a)e(slightly)g(f)o
(aster)g(option)f(than)h(1)g(for)546 3509 y(Glasgo)n(w)g(Hask)o(ell)g
(users.)p Black 463 3659 a(4.)p Black 20 w(GHC)h(Hask)o(ell)f(with)h
(string-encoded)c(arrays.)i(This)h(is)i(the)e(f)o(astest/smallest)h
(option)e(for)h(GHC)h(users.)f(If)546 3767 y(you')l(re)e(using)i(GHC,)g
(the)h(optimum)d(\003ag)j(settings)f(are)g Fg(-agc)g
Fk(\(see)h(Chapter)e(3.)396 3916 y(Happ)o(y)h(can)g(also)g(generate)f
(parsers)h(which)f(will)i(dump)e(deb)n(ugging)f(information)g(at)i(run)
g(time,)g(sho)n(wing)f(state)396 4024 y(transitions)h(and)g(the)g
(input)f(tok)o(ens)h(to)g(the)h(parser)-5 b(.)-2 4401
y Fm(1.1.)39 b(Compatibility)396 4581 y Fk(Happ)o(y)20
b(is)h(written)f(in)g(Glasgo)n(w)g(Hask)o(ell.)g(This)g(means)g(that)h
(\(for)e(the)h(time)g(being\),)f(you)g(need)h(GHC)h(to)396
4689 y(compile)f(it.)g(An)o(y)g(v)o(ersion)f(of)g(GHC)j(>=)e(3.02)f
(should)g(w)o(ork.)396 4838 y(Remember:)g(parsers)h(produced)e(using)i
(Happ)o(y)f(should)g(compile)g(without)h(dif)n(\002culty)f(under)g(an)o
(y)g(Hask)o(ell)i(98)396 4946 y(complier)e(or)h(interpreter)-5
b(.)p Black 3703 5692 a Fh(4)p Black eop
%%Page: 5 5
5 4 bop Black 2957 67 a Fh(Chapter)20 b(1.)g(Intr)l(oduction)p
Black -2 601 a Fm(1.2.)39 b(Repor)s(ting)e(Bugs)396 780
y Fk(An)o(y)20 b(b)n(ugs)g(found)e(in)i(Happ)o(y)g(should)f(be)h
(reported)e(to)j(me:)f(Simon)g(Marlo)n(w)f(<)p Fg
(simonmar@microsoft.com)p Fk(>)396 888 y(including)g(all)h(the)h(rele)n
(v)n(ant)e(information:)f(-)i(the)g(compiler)f(used)h(to)g(compile)g
(Happ)o(y,)f(the)h(command-line)396 996 y(options)g(used,)f(your)g
(grammar)g(\002le)h(or)g(preferably)e(a)j(cut-do)n(wn)d(e)o(xample)h
(sho)n(wing)g(the)h(problem,)e(and)i(a)396 1104 y(description)f(of)h
(what)g(goes)g(wrong.)f(A)h(patch)g(to)g(\002x)h(the)f(problem)e(w)o
(ould)i(also)g(be)g(greatly)g(appreciated.)396 1253 y(Requests)h(for)e
(ne)n(w)h(features)g(should)f(also)i(be)f(sent)g(to)h(the)f(abo)o(v)o
(e)e(address,)i(especially)g(if)g(accompanied)e(by)396
1361 y(patches.)i(Y)-9 b(ou)19 b(ne)n(v)o(er)g(kno)n(w)-5
b(,)19 b(if)h(I)h(get)f(another)f(request)g(to)h(implement)f
(yacc-style)h(precedences,)e(I)i(might)g(just)396 1469
y(do)g(it)h(:-\))-2 1888 y Fm(1.3.)39 b(License)396 2068
y Fk(Pre)n(vious)19 b(v)o(ersions)g(of)h(Happ)o(y)f(were)h(co)o(v)o
(ered)d(by)j(the)g(GNU)g(general)f(public)g(license.)h(W)-7
b(e')l(re)20 b(no)n(w)f(distrib)n(uting)396 2176 y(Happ)o(y)h(with)g(a)
h(less)g(restricti)n(v)o(e)e(BSD-style)i(license:)479
2356 y Ff(Cop)o(yright)f(2000,)g(Simon)f(Marlo)n(w)g(and)h(Andy)g
(Gill.)d(All)h(rights)h(reserv)o(ed.)479 2494 y(Redistrib)o(ution)g
(and)h(use)f(in)g(source)g(and)h(binary)g(forms,)e(with)h(or)g(without)
g(modi\002cation,)g(are)g(permitted)g(pro)o(vided)479
2591 y(that)g(the)g(follo)n(wing)g(conditions)h(are)f(met:)p
Black 479 2813 a Fe(\225)p Black 60 w Ff(Redistrib)o(utions)g(of)g
(source)h(code)g(must)f(retain)f(the)h(abo)o(v)o(e)h(cop)o(yright)h
(notice,)e(this)f(list)g(of)h(conditions)h(and)g(the)562
2910 y(follo)n(wing)g(disclaimer)l(.)p Black 479 3049
a Fe(\225)p Black 79 w Ff(Redistrib)o(utions)f(in)g(binary)g(form)g
(must)g(reproduce)i(the)e(abo)o(v)o(e)g(cop)o(yright)i(notice,)e(this)f
(list)g(of)h(conditions)h(and)562 3146 y(the)f(follo)n(wing)h
(disclaimer)f(in)f(the)h(documentation)i(and/or)f(other)f(materials)g
(pro)o(vided)h(with)e(the)h(distrib)o(ution.)479 3285
y(THIS)f(SOFTW)-9 b(ARE)16 b(IS)i(PR)m(O)l(VIDED)g(BY)h(THE)f
(COPYRIGHT)f(HOLDERS)g("AS)i(IS")f(AND)h(ANY)f(EXPRESS)479
3382 y(OR)h(IMPLIED)e(W)-9 b(ARRANTIES,)17 b(INCLUDING,)g(B)o(UT)h(NO)m
(T)h(LIMITED)e(T)o(O,)h(THE)g(IMPLIED)g(W)-9 b(ARRANTIES)479
3479 y(OF)18 b(MERCHANT)-7 b(ABILITY)17 b(AND)i(FITNESS)d(FOR)i(A)h(P)
-7 b(AR)l(TICULAR)16 b(PURPOSE)h(ARE)h(DISCLAIMED.)f(IN)479
3576 y(NO)i(EVENT)e(SHALL)h(THE)g(COPYRIGHT)f(HOLDERS)g(BE)h(LIABLE)g
(FOR)g(ANY)g(DIRECT)-6 b(,)18 b(INDIRECT)-6 b(,)479 3673
y(INCIDENT)f(AL,)17 b(SPECIAL,)f(EXEMPLAR)-5 b(Y)-10
b(,)18 b(OR)g(CONSEQ)o(UENTIAL)f(D)m(AMA)m(GES)h(\(INCLUDING,)f(B)o(UT)
479 3770 y(NO)m(T)i(LIMITED)e(T)o(O,)h(PR)m(OCUREMENT)f(OF)h
(SUBSTITUTE)e(GOODS)i(OR)h(SER)-6 b(VICES;)16 b(LOSS)h(OF)h(USE,)479
3867 y(D)m(A)-8 b(T)h(A,)18 b(OR)g(PR)m(OFITS;)f(OR)h(B)o(USINESS)f
(INTERR)m(UPTION\))f(HO)m(WEVER)i(CA)l(USED)f(AND)i(ON)g(ANY)479
3965 y(THEOR)-5 b(Y)18 b(OF)g(LIABILITY)-10 b(,)17 b(WHETHER)f(IN)j
(CONTRA)m(CT)-6 b(,)17 b(STRICT)g(LIABILITY)-10 b(,)17
b(OR)h(T)o(OR)l(T)e(\(INCLUDING)479 4062 y(NEGLIGENCE)h(OR)h(O)m(THER)l
(WISE\))e(ARISING)i(IN)g(ANY)h(W)-9 b(A)h(Y)18 b(OUT)g(OF)g(THE)g(USE)f
(OF)h(THIS)g(SOFTW)-9 b(ARE,)479 4159 y(EVEN)18 b(IF)g(AD)m(VISED)g(OF)
g(THE)g(POSSIBILITY)e(OF)i(SUCH)g(D)m(AMA)m(GE.)-2 4578
y Fm(1.4.)39 b(Obtaining)e(Happ)n(y)396 4757 y Fk(Happ)o(y')-5
b(s)20 b(web)g(page)f(can)h(be)h(found)d(at)j(http://www)-5
b(.hask)o(ell.or)o(g/happ)o(y/.)14 b(Happ)o(y)20 b(source)f(and)h
(binaries)f(can)h(be)396 4865 y(do)n(wnloaded)e(from)h(there.)g(There)h
(are)g(se)n(v)o(eral)f(mirrors)h(of)f(this)i(site,)g(b)n(ut)f(since)h
(the)o(y)e(tend)h(to)g(mo)o(v)o(e)f(around)f(a)396 4973
y(bit)j(I)f(w)o(on')o(t)f(mention)g(them)h(here.)p Black
3703 5692 a Fh(5)p Black eop
%%Page: 6 6
6 5 bop Black Black -2 621 a Fj(Chapter)48 b(2.)f(Using)i(Happ)m(y)396
869 y Fk(Users)21 b(of)f(Y)-8 b(acc)20 b(will)h(\002nd)f(Happ)o(y)f
(quite)h(f)o(amiliar)-5 b(.)20 b(The)g(basic)g(idea)g(is)h(as)g(follo)n
(ws:)p Black 396 1102 a Fe(\225)p Black 60 w Fk(De\002ne)f(the)h
(grammar)d(you)h(w)o(ant)i(to)f(parse)g(in)g(a)h(Happ)o(y)e(grammar)g
(\002le.)p Black 396 1251 a Fe(\225)p Black 81 w Fk(Run)h(the)g
(grammar)f(through)f(Happ)o(y,)h(to)h(generate)f(a)i(compilable)e(Hask)
o(ell)h(module.)p Black 396 1401 a Fe(\225)p Black 81
w Fk(Use)h(this)f(module)f(as)i(part)e(of)h(your)f(Hask)o(ell)h
(program,)e(usually)h(in)i(conjunction)c(with)j(a)h(le)o(xical)f
(analyser)f(\(a)479 1509 y(function)g(that)h(splits)h(the)f(input)g
(into)g(\223tok)o(ens\224,)f(the)h(basic)g(unit)g(of)g(parsing\).)396
1658 y(Let')-5 b(s)21 b(run)e(through)e(an)j(e)o(xample.)e(W)-7
b(e')o(ll)21 b(implement)e(a)h(parser)f(for)g(a)h(simple)g(e)o
(xpression)e(syntax,)h(consisting)g(of)396 1766 y(inte)o(gers,)g(v)n
(ariables,)h(the)g(operators)e Fg(+)p Fk(,)j Fg(-)p Fk(,)f
Fg(*)p Fk(,)g Fg(/)p Fk(,)h(and)e(the)i(form)e Fg(let)44
b(var)g(=)h(exp)f(in)h(exp)p Fk(.)20 b(The)g(grammar)396
1874 y(\002le)h(starts)g(of)n(f)f(lik)o(e)g(this:)396
2054 y Fg({)396 2151 y(module)44 b(Main)g(where)396 2248
y(})396 2439 y Fk(At)21 b(the)f(top)g(of)g(the)g(\002le)h(is)g(an)f
(optional)f Fh(module)g(header)r Fk(,)40 b(which)20 b(is)h(just)g(a)f
(Hask)o(ell)h(module)e(header)g(enclosed)396 2547 y(in)i(braces.)e
(This)i(code)e(is)i(emitted)f(v)o(erbatim)f(into)h(the)g(generated)e
(module,)h(so)h(you)g(can)g(put)f(an)o(y)h(Hask)o(ell)g(code)396
2655 y(here)g(at)h(all.)f(In)g(a)h(grammar)d(\002le,)j(Hask)o(ell)f
(code)g(is)h(al)o(w)o(ays)g(contained)d(between)h(curly)h(braces)g(to)g
(distinguish)f(it)396 2763 y(from)g(the)i(grammar)-5
b(.)396 2912 y(In)20 b(this)h(case,)f(the)g(parser)g(will)h(be)f(a)h
(standalone)e(program)f(so)i(we')o(ll)h(call)f(the)h(module)d
Fg(Main)p Fk(.)396 3062 y(Ne)o(xt)i(comes)g(a)h(couple)e(of)h
(declarations:)396 3242 y Fg(\045name)44 b(calc)396 3339
y(\045tokentype)f({)i(Token)f(})396 3530 y Fk(The)20
b(\002rst)h(line)f(declares)g(the)g(name)g(of)g(the)g(parsing)f
(function)g(that)h(Happ)o(y)f(will)i(generate,)e(in)h(this)h(case)f
Fg(calc)p Fk(.)396 3638 y(In)g(man)o(y)f(cases,)i(this)g(is)g(the)f
(only)f(symbol)h(you)f(need)g(to)i(e)o(xport)d(from)h(the)i(module.)396
3788 y(The)f(second)f(line)i(declares)e(the)i(type)e(of)h(tok)o(ens)g
(that)g(the)g(parser)g(will)h(accept.)f(The)f(parser)h(\(i.e.)g(the)g
(function)396 3895 y Fg(calc)p Fk(\))g(will)h(be)f(of)g(type)g
Fg([Token])43 b(->)i(T)p Fk(,)20 b(where)g Fg(T)g Fk(is)h(the)g(return)
e(type)g(of)h(the)h(parser)m(,)e(determined)f(by)i(the)396
4003 y(production)e(rules)i(belo)n(w)-5 b(.)396 4153
y(No)n(w)20 b(we)h(declare)e(all)i(the)f(possible)g(tok)o(ens:)396
4333 y Fg(\045token)665 4430 y(let)583 b({)44 b(TokenLet)g(})665
4527 y(in)628 b({)44 b(TokenIn)g(})665 4624 y(int)583
b({)44 b(TokenInt)g($$)g(})665 4722 y(var)583 b({)44
b(TokenVar)g($$)g(})665 4819 y('=')583 b({)44 b(TokenEq)g(})665
4916 y('+')583 b({)44 b(TokenPlus)g(})665 5013 y('-')583
b({)44 b(TokenMinus)f(})665 5110 y('*')583 b({)44 b(TokenTimes)f(})665
5207 y('/')583 b({)44 b(TokenDiv)g(})p Black 3701 5692
a Fh(6)p Black eop
%%Page: 7 7
7 6 bop Black 2928 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 665 579 a Fg('\(')583 b({)44 b(TokenOB)g(})665
676 y('\)')583 b({)44 b(TokenCB)g(})396 867 y Fk(The)20
b(symbols)g(on)f(the)i(left)f(are)g(the)g(tok)o(ens)g(as)h(the)o(y)e
(will)i(be)g(referred)d(to)i(in)h(the)f(rest)h(of)e(the)i(grammar)m(,)d
(and)h(to)396 975 y(the)h(right)g(of)g(each)g(tok)o(en)f(enclosed)g(in)
i(braces)f(is)h(a)f(Hask)o(ell)h(pattern)e(that)h(matches)g(the)h(tok)o
(en.)e(The)h(parser)f(will)396 1083 y(e)o(xpect)g(to)i(recei)n(v)o(e)e
(a)i(stream)f(of)g(tok)o(ens,)f(each)h(of)g(which)f(will)i(match)f(one)
g(of)g(the)g(gi)n(v)o(en)f(patterns)g(\(the)396 1191
y(de\002nition)g(of)h(the)g Fg(Token)g Fk(datatype)f(is)j(gi)n(v)o(en)c
(later\).)396 1340 y(The)i Fg($$)h Fk(symbol)e(is)i(a)g(placeholder)d
(that)i(represents)f(the)h Fh(value)g Fk(of)g(this)h(tok)o(en.)e
(Normally)g(the)h(v)n(alue)f(of)h(a)h(tok)o(en)396 1448
y(is)g(the)g(tok)o(en)e(itself,)i(b)n(ut)f(by)g(using)f(the)h
Fg($$)h Fk(symbol)e(you)g(can)h(specify)g(some)g(component)e(of)h(the)i
(tok)o(en)e(object)396 1556 y(to)i(be)f(the)g(v)n(alue.)396
1706 y(Lik)o(e)g(yacc,)g(we)h(include)e Fg(\045\045)h
Fk(here,)g(for)f(no)h(real)g(reason.)396 1886 y Fg(\045\045)396
2077 y Fk(No)n(w)g(we)h(ha)n(v)o(e)e(the)i(production)c(rules)j(for)g
(the)g(grammar)-5 b(.)396 2257 y Fg(Exp)134 b(:)45 b(let)f(var)h('=')f
(Exp)g(in)h(Exp)89 b({)45 b(Let)f($2)g($4)h($6)f(})665
2354 y(|)h(Exp1)896 b({)45 b(Exp1)f($1)g(})396 2548 y(Exp1)89
b(:)45 b(Exp1)f('+')g(Term)493 b({)45 b(Plus)f($1)g($3)h(})665
2645 y(|)g(Exp1)f('-')g(Term)493 b({)45 b(Minus)f($1)g($3)h(})665
2742 y(|)g(Term)896 b({)45 b(Term)f($1)g(})396 2937 y(Term)89
b(:)45 b(Term)f('*')g(Factor)403 b({)45 b(Times)f($1)g($3)h(})665
3034 y(|)g(Term)f('/')g(Factor)403 b({)45 b(Div)f($1)g($3)h(})665
3131 y(|)g(Factor)806 b({)45 b(Factor)e($1)i(})396 3325
y(Factor)665 3422 y(:)g(int)941 b({)45 b(Int)f($1)g(})665
3520 y(|)h(var)941 b({)45 b(Var)f($1)g(})665 3617 y(|)h('\(')f(Exp)h
('\)')582 b({)45 b(Brack)f($2)g(})396 3808 y Fk(Each)20
b(production)d(consists)k(of)f(a)h Fh(non-terminal)d
Fk(symbol)h(on)h(the)g(left,)g(follo)n(wed)f(by)h(a)h(colon,)e(follo)n
(wed)f(by)i(one)396 3916 y(or)g(more)g(e)o(xpansions)e(on)i(the)g
(right,)f(separated)h(by)f Fg(|)p Fk(.)i(Each)e(e)o(xpansion)g(has)h
(some)g(Hask)o(ell)h(code)e(associated)396 4023 y(with)i(it,)f
(enclosed)g(in)g(braces)g(as)h(usual.)396 4173 y(The)f(w)o(ay)g(to)h
(think)e(about)g(a)i(parser)f(is)h(with)f(each)g(symbol)f(ha)n(ving)g
(a)i(`v)n(alue':)e(we)h(de\002ned)f(the)i(v)n(alues)e(of)h(the)396
4281 y(tok)o(ens)g(abo)o(v)o(e,)e(and)i(the)g(grammar)f(de\002nes)g
(the)i(v)n(alues)f(of)f(non-terminal)f(symbols)i(in)g(terms)g(of)g
(sequences)f(of)396 4389 y(other)h(symbols)f(\(either)h(tok)o(ens)f(or)
h(non-terminals\).)e(In)h(a)i(production)d(lik)o(e)i(this:)396
4569 y Fg(n)135 b(:)44 b(t_1)h(...)f(t_n)134 b({)45 b(E)f(})396
4760 y Fk(whene)n(v)o(er)18 b(the)j(parser)e(\002nds)h(the)h(symbols)e
Fg(t_1..t_n)h Fk(in)g(the)g(tok)o(en)g(stream,)f(it)i(constructs)f(the)
g(symbol)f Fg(n)i Fk(and)396 4868 y(gi)n(v)o(es)f(it)h(the)f(v)n(alue)g
Fg(E)p Fk(,)g(which)g(may)f(refer)h(to)g(the)g(v)n(alues)g(of)g
Fg(t_1...t_n)f Fk(using)h(the)g(symbols)g Fg($1...$n)p
Fk(.)396 5017 y(The)g(parser)g(reduces)f(the)h(input)g(using)f(the)i
(rules)f(in)g(the)g(grammar)f(until)h(just)g(one)g(symbol)f(remains:)h
(the)g(\002rst)396 5125 y(symbol)g(de\002ned)f(in)h(the)g(grammar)f
(\(namely)g Fg(Exp)h Fk(in)g(our)g(e)o(xample\).)e(The)i(v)n(alue)f(of)
h(this)h(symbol)e(is)i(the)f(return)396 5233 y(v)n(alue)g(from)f(the)h
(parser)-5 b(.)p Black 3700 5692 a Fh(7)p Black eop
%%Page: 8 8
8 7 bop Black -2 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fk(T)-7 b(o)21 b(complete)e(the)h(program,)e(we)i(need)
g(some)g(e)o(xtra)f(code.)h(The)f(grammar)g(\002le)i(may)e(optionally)g
(contain)g(a)i(\002nal)396 687 y(code)f(section,)f(enclosed)h(in)g
(curly)f(braces.)396 867 y Fg({)396 1058 y Fk(All)i(parsers)f(must)g
(declare)g(the)g(function)e Fg(happyError)p Fk(,)h(which)h(is)h(called)
f(when)g(an)g(error)f(is)i(detected.)396 1238 y Fg(happyError)43
b(::)i([Token])f(->)g(a)396 1335 y(happyError)f(_)i(=)g(error)f("Parse)
g(error")396 1526 y(happyError)19 b Fk(doesn')o(t)g(ha)n(v)o(e)h(to)g
(call)h Fg(error)p Fk(:)f(it)g(can)g(return)f(a)i(real)f(v)n(alue,)g
(which)f(must)h(be)h(the)f(same)g(type)g(as)396 1634
y(the)g(return)f(v)n(alue)h(of)g(the)g(parser)g(itself.)g(A)h(con)m(v)o
(enient)c(w)o(ay)k(to)f(deal)g(with)g(errors)g(is)h(to)f(use)h(an)f(e)o
(xception)396 1742 y(monad,)f(which)g(we')o(ll)i(talk)f(about)f(in)i
(Section)f(2.6.)f(It')-5 b(s)21 b(also)f(possible)g(to)h(k)o(eep)e
(track)h(of)g(line)g(numbers)f(in)h(the)396 1850 y(parser)g(for)f(use)i
(in)f(error)f(messages,)h(this)h(is)g(described)e(in)h(Section)g
(2.6.3.)396 1999 y(Ne)o(xt)g(we)h(can)f(declare)f(the)h(data)g(type)g
(that)g(represents)g(the)g(parsed)f(e)o(xpression:)396
2180 y Fg(data)44 b(Exp)665 2277 y(=)h(Let)f(String)g(Exp)g(Exp)665
2374 y(|)h(Exp1)f(Exp1)396 2568 y(data)g(Exp1)665 2665
y(=)h(Plus)f(Exp1)g(Term)665 2762 y(|)h(Minus)f(Exp1)g(Term)665
2860 y(|)h(Term)f(Term)396 3054 y(data)g(Term)665 3151
y(=)h(Times)f(Term)g(Factor)665 3248 y(|)h(Div)f(Term)g(Factor)665
3345 y(|)h(Factor)f(Factor)396 3539 y(data)g(Factor)665
3637 y(=)h(Int)f(Int)665 3734 y(|)h(Var)f(String)665
3831 y(|)h(Brack)f(Exp)396 4022 y Fk(And)20 b(the)g(data)g(structure)g
(for)f(the)h(tok)o(ens...)396 4202 y Fg(data)44 b(Token)665
4299 y(=)h(TokenLet)665 4396 y(|)g(TokenIn)665 4493 y(|)g(TokenInt)e
(Int)665 4591 y(|)i(TokenVar)e(String)665 4688 y(|)i(TokenEq)665
4785 y(|)g(TokenPlus)665 4882 y(|)g(TokenMinus)665 4979
y(|)g(TokenTimes)665 5076 y(|)g(TokenDiv)665 5173 y(|)g(TokenOB)665
5270 y(|)g(TokenCB)p Black -2 5692 a Fh(8)p Black eop
%%Page: 9 9
9 8 bop Black 2928 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 441 579 a Fg(deriving)44 b(Show)396 770 y Fk(...)20
b(and)g(a)h(simple)f(le)o(x)o(er)f(that)h(returns)g(this)g(data)g
(structure.)396 950 y Fg(lexer)44 b(::)h(String)f(->)g([Token])396
1047 y(lexer)g([])h(=)f([])396 1144 y(lexer)g(\(c:cs\))665
1241 y(|)h(isSpace)f(c)g(=)h(lexer)f(cs)665 1339 y(|)h(isAlpha)f(c)g(=)
h(lexVar)f(\(c:cs\))665 1436 y(|)h(isDigit)f(c)g(=)h(lexNum)f(\(c:cs\))
396 1533 y(lexer)g(\('=':cs\))g(=)g(TokenEq)g(:)h(lexer)f(cs)396
1630 y(lexer)g(\('+':cs\))g(=)g(TokenPlus)g(:)g(lexer)g(cs)396
1727 y(lexer)g(\('-':cs\))g(=)g(TokenMinus)g(:)g(lexer)g(cs)396
1824 y(lexer)g(\('*':cs\))g(=)g(TokenTimes)g(:)g(lexer)g(cs)396
1921 y(lexer)g(\('/':cs\))g(=)g(TokenDiv)g(:)h(lexer)f(cs)396
2019 y(lexer)g(\('\(':cs\))g(=)g(TokenOB)g(:)h(lexer)f(cs)396
2116 y(lexer)g(\('\)':cs\))g(=)g(TokenCB)g(:)h(lexer)f(cs)396
2310 y(lexNum)g(cs)h(=)f(TokenInt)g(\(read)g(num\))g(:)h(lexer)f(rest)
665 2407 y(where)g(\(num,rest\))f(=)i(span)f(isDigit)g(cs)396
2601 y(lexVar)g(cs)h(=)531 2698 y(case)f(span)g(isAlpha)g(cs)g(of)665
2796 y(\("let",rest\))f(->)i(TokenLet)e(:)i(lexer)f(rest)665
2893 y(\("in",rest\))88 b(->)45 b(TokenIn)e(:)i(lexer)f(rest)665
2990 y(\(var,rest\))133 b(->)45 b(TokenVar)e(var)h(:)h(lexer)f(rest)396
3181 y Fk(And)20 b(\002nally)g(a)h(top-le)n(v)o(el)d(function)h(to)h
(tak)o(e)g(some)g(input,)f(parse)h(it,)h(and)f(print)f(out)h(the)g
(result.)396 3361 y Fg(main)44 b(=)h(getContents)e(\273=)i(print)f(.)g
(calc)g(.)h(lexer)396 3458 y(})396 3649 y Fk(And)20 b(that')-5
b(s)21 b(it!)f(A)h(whole)f(le)o(x)o(er)m(,)e(parser)i(and)f(grammar)g
(in)h(a)h(fe)n(w)f(dozen)f(lines.)h(Another)f(good)g(e)o(xample)g(is)
396 3757 y(Happ)o(y')-5 b(s)20 b(o)n(wn)g(parser)-5 b(.)19
b(Se)n(v)o(eral)h(features)f(in)i(Happ)o(y)e(were)h(de)n(v)o(eloped)e
(using)h(this)i(as)g(an)f(e)o(xample.)396 3906 y(T)-7
b(o)21 b(generate)e(the)h(Hask)o(ell)g(module)f(for)h(this)g(parser)m
(,)f(type)h(the)g(command)f Fi(happy)h(example.ly)f Fk(\(where)396
4014 y Fg(example.ly)g Fk(is)i(the)g(name)e(of)h(the)g(grammar)f
(\002le\).)h(The)g(Hask)o(ell)g(module)f(will)i(be)f(placed)g(in)g(a)h
(\002le)g(named)396 4122 y Fg(example.hs)p Fk(.)e(Additionally)-5
b(,)18 b(in)m(v)n(oking)g(the)i(command)e Fi(happy)j(example.ly)e(-i)h
Fk(will)h(produce)d(the)j(\002le)396 4230 y Fg(example.info)e
Fk(which)h(contains)f(detailed)h(information)e(about)h(the)h(parser)m
(,)f(including)f(states)k(and)d(reduction)396 4338 y(rules)h(\(see)h
(Chapter)e(5\).)h(This)g(can)g(be)h(in)m(v)n(aluable)d(for)h(deb)n
(ugging)f(parsers,)i(b)n(ut)g(requires)f(some)h(kno)n(wledge)e(of)396
4446 y(the)i(operation)f(of)h(a)g(shift-reduce)f(parser)-5
b(.)-2 4823 y Fm(2.1.)39 b(Returning)e(other)i(datatypes)396
5003 y Fk(In)20 b(the)g(abo)o(v)o(e)f(e)o(xample,)f(we)j(used)f(a)h
(data)f(type)f(to)i(represent)e(the)h(syntax)f(being)h(parsed.)f(Ho)n
(we)n(v)o(er)m(,)f(there')-5 b(s)20 b(no)396 5111 y(reason)g(why)f(it)i
(has)f(to)h(be)f(this)h(w)o(ay:)f(you)f(could)g(calculate)h(the)g(v)n
(alue)g(of)g(the)g(e)o(xpression)f(on)g(the)i(\003y)-5
b(,)19 b(using)396 5219 y(productions)f(lik)o(e)j(this:)p
Black 3703 5692 a Fh(9)p Black eop
%%Page: 10 10
10 9 bop Black -2 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fg(Term)89 b(:)45 b(Term)f('*')g(Factor)403
b({)45 b($1)f(*)h($3)f(})665 676 y(|)h(Term)f('/')g(Factor)403
b({)45 b($1)f(/)h($3)f(})665 773 y(|)h(Factor)806 b({)45
b($1)f(})396 964 y Fk(The)20 b(v)n(alue)g(of)g(a)g Fg(Term)g
Fk(w)o(ould)g(be)g(the)g(v)n(alue)g(of)f(the)i(e)o(xpression)d(itself,)
j(and)e(the)i(parser)e(could)g(return)g(an)396 1072 y(inte)o(ger)-5
b(.)396 1222 y(This)21 b(w)o(orks)e(for)h(simple)g(e)o(xpression)f
(types,)h(b)n(ut)g(our)f(grammar)g(includes)g(v)n(ariables)g(and)h(the)
g Fg(let)h Fk(syntax.)396 1329 y(Ho)n(w)f(do)g(we)g(kno)n(w)f(the)h(v)n
(alue)f(of)h(a)g(v)n(ariable)f(while)h(we')l(re)f(parsing)g(it?)i(W)-7
b(e)21 b(don')o(t,)d(b)n(ut)i(since)g(the)g(Hask)o(ell)h(code)396
1437 y(for)f(a)g(production)e(can)i(be)g(an)o(ything)e(at)j(all,)f(we)h
(could)e(mak)o(e)h(it)h(a)f(function)f(that)h(tak)o(es)h(an)f(en)m
(vironment)d(of)396 1545 y(v)n(ariable)i(v)n(alues,)h(and)g(returns)f
(the)h(computed)e(v)n(alue)i(of)g(the)g(e)o(xpression:)396
1725 y Fg(Exp)134 b(:)45 b(let)f(var)h('=')f(Exp)g(in)h(Exp)89
b({)45 b(\\p)f(->)h($6)f(\(\($2,$4)g(p\):p\))g(})665
1823 y(|)h(Exp1)896 b({)45 b($1)f(})396 2017 y(Exp1)89
b(:)45 b(Exp1)f('+')g(Term)493 b({)45 b(\\p)f(->)h($1)f(p)h(+)f($3)h(p)
g(})665 2114 y(|)g(Exp1)f('-')g(Term)493 b({)45 b(\\p)f(->)h($1)f(p)h
(-)f($3)h(p)g(})665 2211 y(|)g(Term)896 b({)45 b($1)f(})396
2405 y(Term)89 b(:)45 b(Term)f('*')g(Factor)403 b({)45
b(\\p)f(->)h($1)f(p)h(*)f($3)h(p)g(})665 2503 y(|)g(Term)f('/')g
(Factor)403 b({)45 b(\\p)f(->)h($1)f(p)h(`div`)f($3)g(p)h(})665
2600 y(|)g(Factor)806 b({)45 b($1)f(})396 2794 y(Factor)665
2891 y(:)h(int)941 b({)45 b(\\p)f(->)h($1)f(})665 2988
y(|)h(var)941 b({)45 b(\\p)f(->)h(case)f(lookup)g($1)g(p)h(of)2010
3085 y(Nothing)f(->)g(error)g("no)h(var")576 3182 y(Just)f(i)89
b(->)45 b(i)f(})665 3280 y(|)h('\(')f(Exp)h('\)')582
b({)45 b($2)f(})396 3471 y Fk(The)20 b(v)n(alue)g(of)g(each)f
(production)f(is)j(a)g(function)d(from)h(an)h(en)m(vironment)d
Fh(p)k Fk(to)f(a)h(v)n(alue.)e(When)h(parsing)f(a)i Fg(let)396
3578 y Fk(construct,)e(we)i(e)o(xtend)e(the)h(en)m(vironment)d(with)j
(the)g(ne)n(w)g(binding)f(to)h(\002nd)g(the)g(v)n(alue)g(of)g(the)g
(body)-5 b(,)18 b(and)i(the)g(rule)396 3686 y(for)g Fg(var)g
Fk(looks)g(up)g(its)h(v)n(alue)e(in)i(the)f(en)m(vironment.)d(There')-5
b(s)19 b(something)g(you)g(can')o(t)h(do)f(in)i Fg(yacc)f
Fk(:-\))-2 4105 y Fm(2.2.)39 b(P)l(ar)n(sing)f(sequences)396
4285 y Fk(A)21 b(common)d(feature)i(in)g(grammars)f(is)i(a)f
Fh(sequence)f Fk(of)h(a)h(particular)e(syntactic)h(element.)f(In)h
(EBNF)-7 b(,)21 b(we')l(d)f(write)396 4393 y(something)e(lik)o(e)i
Fg(n+)f Fk(to)h(represent)e(a)i(sequence)e(of)h(one)g(or)g(more)g
Fg(n)p Fk(s,)h(and)e Fg(n*)i Fk(for)f(zero)g(or)g(more.)f(Happ)o(y)g
(doesn')o(t)396 4501 y(support)h(this)i(syntax)e(e)o(xplicitly)-5
b(,)19 b(b)n(ut)h(you)f(can)h(de\002ne)g(the)g(equi)n(v)n(alent)f
(sequences)g(using)h(simple)g(productions.)396 4650 y(F)o(or)g(e)o
(xample,)f(the)h(grammar)e(for)i(Happ)o(y)f(itself)i(contains)e(a)i
(rule)f(lik)o(e)g(this:)396 4830 y Fg(prods)44 b(:)h(prod)851
b({)45 b([$1])f(})665 4927 y(|)h(prods)f(prod)582 b({)45
b($2)f(:)h($1)f(})396 5118 y Fk(In)20 b(other)g(w)o(ords,)f(a)i
(sequence)e(of)h(productions)d(is)22 b(either)d(a)i(single)f
(production,)d(or)j(a)h(sequence)e(of)h(productions)396
5226 y(follo)n(wed)f(by)h(a)g(single)h(production.)c(This)j(recursi)n
(v)o(e)f(rule)h(de\002nes)g(a)g(sequence)f(of)h(one)g(or)g(more)f
(productions.)p Black -2 5692 a Fh(10)p Black eop
%%Page: 11 11
11 10 bop Black 2928 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fk(One)g(thing)g(to)g(note)g(about)f(this)i(rule)f(is)h
(that)f(we)h(used)f Fh(left)g(r)m(ecur)o(sion)g Fk(to)h(de\002ne)e(it)i
(-)g(we)f(could)g(ha)n(v)o(e)f(written)h(it)396 687 y(lik)o(e)h(this:)
396 867 y Fg(prods)44 b(:)h(prod)806 b({)45 b([$1])f(})665
964 y(|)h(prod)f(prods)537 b({)45 b($1)f(:)h($2)g(})396
1155 y Fk(The)20 b(only)f(reason)h(we)g(used)g(left)h(recursion)e(is)i
(that)f(Happ)o(y)f(is)i(more)f(ef)n(\002cient)f(at)i(parsing)e
(left-recursi)n(v)o(e)f(rules;)396 1263 y(the)o(y)i(result)g(in)g(a)h
(constant)e(stack-space)h(parser)m(,)f(whereas)h(right-recursi)n(v)o(e)
d(rules)j(require)f(stack)h(space)396 1371 y(proportional)d(to)k(the)f
(length)f(of)h(the)g(list)i(being)d(parsed.)g(This)i(can)f(be)g(e)o
(xtremely)e(important)h(where)g(long)396 1479 y(sequences)h(are)g(in)m
(v)n(olv)o(ed,)e(for)h(instance)h(in)g(automatically)f(generated)f
(output.)h(F)o(or)h(e)o(xample,)f(the)h(parser)f(in)396
1587 y(GHC)i(used)f(to)h(use)f(right-recursion)d(to)j(parse)g(lists,)i
(and)d(as)i(a)g(result)f(it)h(f)o(ailed)f(to)g(parse)g(some)396
1695 y(Happ)o(y-generated)d(modules)i(due)h(to)g(running)e(out)i(of)g
(stack)g(space!)396 1844 y(One)g(implication)f(of)h(using)g(left)g
(recursion)f(is)i(that)f(the)h(resulting)e(list)i(comes)f(out)g(re)n(v)
o(ersed,)e(and)i(you)f(ha)n(v)o(e)h(to)396 1952 y(re)n(v)o(erse)f(it)h
(again)f(to)h(get)f(it)i(in)e(the)h(original)f(order)-5
b(.)18 b(T)-7 b(ak)o(e)20 b(a)g(look)f(at)h(the)f(Happ)o(y)g(grammar)f
(for)h(Hask)o(ell)h(for)f(man)o(y)396 2060 y(e)o(xamples)g(of)h(this.)
396 2209 y(P)o(arsing)g(sequences)f(of)h(zero)g(or)g(more)f(elements)h
(requires)f(a)i(tri)n(vial)f(change)f(to)h(the)g(abo)o(v)o(e)f
(pattern:)396 2390 y Fg(prods)44 b(:)h({-)f(empty)g(-})493
b({)45 b([])f(})665 2487 y(|)h(prods)f(prod)537 b({)45
b($2)f(:)h($1)g(})396 2678 y Fk(Y)-8 b(es)21 b(-)f(empty)g(productions)
d(are)j(allo)n(wed.)g(The)g(normal)f(con)m(v)o(ention)e(is)k(to)f
(include)f(the)i(comment)d Fg({-)45 b(empty)396 2786
y(-})21 b Fk(to)f(mak)o(e)g(it)h(more)e(ob)o(vious)f(to)j(a)f(reader)g
(of)g(the)g(code)f(what')-5 b(s)21 b(going)e(on.)-2 3114
y Fd(2.2.1.)35 b(Sequences)h(with)d(separator)n(s)396
3281 y Fk(A)21 b(common)d(type)i(of)g(sequence)f(is)i(one)f(with)g(a)h
Fh(separ)o(ator)r Fk(:)e(for)h(instance)f(function)g(bodies)g(in)i(C)g
(consist)f(of)396 3389 y(statements)h(separated)e(by)h(semicolons.)f(T)
-7 b(o)20 b(parse)g(this)h(kind)e(of)h(sequence)f(we)i(use)f(a)h
(production)c(lik)o(e)k(this:)396 3570 y Fg(stmts)44
b(:)h(stmt)851 b({)45 b([$1])f(})665 3667 y(|)h(stmts)f(';')g(stmt)403
b({)45 b($3)f(:)h($1)f(})396 3858 y Fk(If)20 b(the)h
Fg(;)f Fk(is)h(to)g(be)f(a)g Fh(terminator)i Fk(rather)e(than)f(a)i
(separator)e(\(i.e.)h(there)f(should)h(be)g(one)f(follo)n(wing)g(each)
396 3966 y(statement\),)h(we)g(can)g(remo)o(v)o(e)e(the)j(semicolon)e
(from)g(the)h(abo)o(v)o(e)f(rule)g(and)h(rede\002ne)f
Fg(stmt)h Fk(as)396 4146 y Fg(stmt)44 b(:)h(stmt1)f(';')627
b({)45 b($1)f(})396 4337 y Fk(where)20 b Fg(stmt1)g Fk(is)h(the)f(real)
g(de\002nition)f(of)h(statements.)396 4486 y(W)-7 b(e)22
b(might)d(lik)o(e)i(to)f(allo)n(w)g(e)o(xtra)g(semicolons)f(between)g
(statements,)h(to)h(be)f(a)g(bit)h(more)e(liberal)h(in)g(what)h(we)396
4594 y(allo)n(w)f(as)h(le)o(gal)f(syntax.)f(W)-7 b(e)21
b(probably)d(just)j(w)o(ant)f(the)h(parser)e(to)i(ignore)d(these)j(e)o
(xtra)e(semicolons,)g(and)h(not)396 4702 y(generate)f(a)i(\223null)f
(statement\224)f(v)n(alue)h(or)g(something.)e(The)i(follo)n(wing)f
(rule)h(parses)g(a)g(sequence)f(or)h(zero)g(or)396 4810
y(more)g(statements)g(separated)f(by)h(semicolons,)f(in)h(which)g(the)g
(statements)h(may)e(be)h(empty:)396 4990 y Fg(stmts)44
b(:)h(stmts)f(';')g(stmt)448 b({)45 b($3)f(:)h($1)f(})665
5087 y(|)h(stmts)f(';')672 b({)45 b($1)f(})665 5184 y(|)h(stmt)f({)h
([$1])f(})665 5281 y(|)h({-)f(empty)g(-})h({)g([])f(})p
Black 3661 5692 a Fh(11)p Black eop
%%Page: 12 12
12 11 bop Black -2 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fk(P)o(arsing)g(sequences)f(of)h Fh(one)g
Fk(or)g(more)f(possibly)h(null)f(statements)i(is)g(left)f(as)h(an)f(e)o
(x)o(ercise)g(for)f(the)h(reader)-5 b(...)-2 1081 y Fm(2.3.)39
b(Ambiguities)396 1260 y Fk(\(section)20 b(under)f(construction\))-2
1679 y Fm(2.4.)39 b(Using)f(Precedences)396 1859 y Fk(Going)20
b(back)f(to)h(our)g(earlier)g(e)o(xpression-parsing)c(e)o(xample,)j(w)o
(ouldn')o(t)f(it)j(be)f(nicer)g(if)g(we)h(didn')o(t)d(ha)n(v)o(e)i(to)
396 1966 y(e)o(xplicitly)f(separate)h(the)g(e)o(xpressions)f(into)h
(terms)g(and)g(f)o(actors,)g(merely)f(to)h(mak)o(e)g(it)h(clear)f(that)
g Fg('*')h Fk(and)e Fg('/')396 2074 y Fk(operators)g(bind)g(more)h
(tightly)f(than)h Fg('+')g Fk(and)g Fg('-')p Fk(?)396
2224 y(W)-7 b(e)22 b(could)d(just)i(change)d(the)j(grammar)d(as)j
(follo)n(ws)f(\(making)e(the)i(appropriate)e(changes)h(to)i(the)f(e)o
(xpression)396 2332 y(datatype)f(too\):)396 2512 y Fg(Exp)134
b(:)45 b(let)f(var)h('=')f(Exp)g(in)h(Exp)89 b({)45 b(Let)f($2)g($4)h
($6)f(})665 2609 y(|)h(Exp)f('+')h(Exp)582 b({)45 b(Plus)f($1)g($3)h(})
665 2706 y(|)g(Exp)f('-')h(Exp)582 b({)45 b(Minus)f($1)g($3)h(})665
2803 y(|)g(Exp)f('*')h(Exp)582 b({)45 b(Times)f($1)g($3)h(})665
2900 y(|)g(Exp)f('/')h(Exp)582 b({)45 b(Div)f($1)g($3)h(})665
2998 y(|)g('\(')f(Exp)h('\)')582 b({)45 b(Brack)f($2)g(})665
3095 y(|)h(int)941 b({)45 b(Int)f($1)g(})665 3192 y(|)h(var)941
b({)45 b(Var)f($1)g(})396 3383 y Fk(b)n(ut)20 b(no)n(w)g(Happ)o(y)f
(will)i(complain)e(that)h(there)g(are)g(shift/reduce)f(con\003icts)h
(because)g(the)g(grammar)e(is)j(ambiguous)396 3491 y(-)g(we)f(ha)n(v)o
(en')o(t)f(speci\002ed)g(whether)h(e.g.)f Fg(1)45 b(+)g(2)f(*)h(3)21
b Fk(is)g(to)f(be)g(parsed)g(as)g Fg(1)45 b(+)g(\(2)f(*)h(3\))20
b Fk(or)g Fg(\(1)45 b(+)f(2\))h(*)g(3)p Fk(.)396 3599
y(Happ)o(y)20 b(allo)n(ws)g(these)g(ambiguities)g(to)g(be)g(resolv)o
(ed)f(by)h(specifying)e(the)i Fh(pr)m(ecedences)f Fk(of)h(the)h
(operators)396 3707 y(in)m(v)n(olv)o(ed)d(using)i(directi)n(v)o(es)f
(in)i(the)f(header)1673 3673 y Fc(1)1696 3707 y Fk(:)396
3887 y Fg(...)396 3984 y(\045right)44 b(in)396 4081 y(\045left)g('+')h
('-')396 4178 y(\045left)f('*')h('/')396 4275 y(\045\045)396
4372 y(...)396 4563 y Fk(The)20 b Fg(\045left)g Fk(or)g
Fg(\045right)g Fk(directi)n(v)o(e)f(is)i(follo)n(wed)e(by)g(a)i(list)g
(of)f(terminals,)g(and)f(declares)h(all)h(these)f(tok)o(ens)g(to)g(be)
396 4671 y(left)h(or)f(right-associati)n(v)o(e)e(respecti)n(v)o(ely)-5
b(.)18 b(The)i(precedence)e(of)i(these)g(tok)o(ens)g(with)g(respect)g
(to)g(other)g(tok)o(ens)f(is)396 4779 y(established)h(by)g(the)g(order)
f(of)h(the)g Fg(\045left)g Fk(and)g Fg(\045right)f Fk(directi)n(v)o
(es:)h(earlier)f(means)h(lo)n(wer)g(precedence.)e(A)396
4887 y(higher)h(precedence)f(causes)j(an)f(operator)e(to)j(bind)e(more)
g(tightly;)h(in)g(our)g(e)o(xample)f(abo)o(v)o(e,)f(because)h
Fg('*')i Fk(has)f(a)396 4995 y(higher)f(precedence)f(than)i
Fg('+')p Fk(,)g(the)g(e)o(xpression)f Fg(1)44 b(+)h(2)g(*)f(3)21
b Fk(will)g(parse)f(as)h Fg(1)44 b(+)h(\(2)g(*)f(3\))p
Fk(.)396 5145 y(What)21 b(happens)e(when)g(tw)o(o)i(operators)d(ha)n(v)
o(e)i(the)g(same)h(precedence?)d(This)i(is)h(when)f(the)g
Fh(associativity)g Fk(comes)396 5252 y(into)g(play)-5
b(.)19 b(Operators)g(speci\002ed)h(as)h(left)g(associati)n(v)o(e)e
(will)i(cause)f(e)o(xpressions)f(lik)o(e)i Fg(1)44 b(+)h(2)g(-)f(3)21
b Fk(to)f(parse)g(as)p Black -2 5692 a Fh(12)p Black
eop
%%Page: 13 13
13 12 bop Black 2928 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fg(\(1)45 b(+)f(2\))h(-)g(3)p Fk(,)20
b(whereas)g(right-associati)n(v)o(e)e(operators)h(w)o(ould)g(parse)h
(as)h Fg(1)45 b(+)f(\(2)h(-)f(3\))p Fk(.)21 b(There)e(is)i(also)g(a)396
687 y Fg(\045nonassoc)f Fk(directi)n(v)o(e)e(which)i(indicates)g(that)g
(the)g(speci\002ed)g(operators)f(may)h(not)g(be)g(used)g(together)-5
b(.)19 b(F)o(or)396 795 y(e)o(xample,)g(if)h(we)h(add)e(the)i
(comparison)d(operators)g Fg('>')j Fk(and)e Fg('<')i
Fk(to)f(our)f(grammar)m(,)f(then)i(we)h(w)o(ould)e(probably)396
903 y(gi)n(v)o(e)h(their)g(precedence)e(as:)396 1083
y Fg(...)396 1180 y(\045nonassoc)44 b('>')g('<')396 1277
y(\045right)g(in)396 1374 y(\045left)g('+')h('-')396
1471 y(\045left)f('*')h('/')396 1569 y(\045\045)396 1666
y(...)396 1857 y Fk(which)20 b(indicates)g(that)g Fg('>')g
Fk(and)g Fg('<')g Fk(bind)g(less)h(tightly)f(than)f(the)h(other)g
(operators,)e(and)i(the)g(non-associati)n(vity)396 1965
y(causes)h(e)o(xpressions)e(such)h(as)g Fg(1)45 b(>)g(2)f(>)h(3)21
b Fk(to)f(be)g(disallo)n(wed.)-2 2293 y Fd(2.4.1.)35
b(Ho)n(w)f(precedence)i(w)n(orks)396 2460 y Fk(The)20
b(precedence)e(directi)n(v)o(es,)h Fg(\045left)p Fk(,)h
Fg(\045right)g Fk(and)f Fg(\045nonassoc)p Fk(,)g(assign)i(precedence)d
(le)n(v)o(els)i(to)g(the)g(tok)o(ens)396 2568 y(in)h(the)f
(declaration.)e(A)j(rule)f(in)g(the)g(grammar)f(may)g(also)i(ha)n(v)o
(e)f(a)g(precedence:)e(if)j(the)f(last)h(terminal)f(in)g(the)g(left)396
2676 y(hand)f(side)i(of)f(the)g(rule)g(has)g(a)h(precedence,)d(then)i
(this)g(is)h(the)g(precedence)d(of)i(the)g(whole)f(rule.)396
2826 y(The)h(precedences)f(are)h(used)g(to)g(resolv)o(e)f(ambiguities)g
(in)i(the)f(grammar)-5 b(.)19 b(If)h(there)f(is)j(a)e(shift/reduce)f
(con\003ict,)396 2934 y(then)h(the)f(precedence)f(of)h(the)h(rule)g
(and)f(the)g(lookahead)f(tok)o(en)h(are)h(e)o(xamined)d(in)j(order)f
(to)h(resolv)o(e)e(the)i(con\003ict:)p Black 396 3166
a Fe(\225)p Black 60 w Fk(If)g(the)h(precedence)d(of)i(the)g(rule)g(is)
h(higher)m(,)d(then)i(the)g(con\003ict)g(is)h(resolv)o(ed)e(as)i(a)f
(reduce.)p Black 396 3315 a Fe(\225)p Black 60 w Fk(If)g(the)h
(precedence)d(of)i(the)g(lookahead)e(tok)o(en)h(is)i(higher)m(,)e(then)
g(the)h(con\003ict)g(is)h(resolv)o(ed)e(as)i(a)g(shift.)p
Black 396 3465 a Fe(\225)p Black 60 w Fk(If)f(the)h(precedences)d(are)i
(equal,)f(then)p Black 479 3656 a Fb(\225)p Black 62
w Fk(If)h(the)h(tok)o(en)e(is)i(left-associati)n(v)o(e,)e(then)h
(reduce)p Black 479 3805 a Fb(\225)p Black 62 w Fk(If)g(the)h(tok)o(en)
e(is)i(right-associati)n(v)o(e,)d(then)i(shift)p Black
479 3955 a Fb(\225)p Black 62 w Fk(If)g(the)h(tok)o(en)e(is)i
(non-associati)n(v)o(e,)d(then)h(f)o(ail)p Black 396
4146 a Fe(\225)p Black 60 w Fk(If)h(either)g(the)g(rule)g(or)g(the)g
(tok)o(en)g(has)g(no)g(precedence,)e(then)h(the)i(def)o(ault)e(is)i(to)
g(shift)f(\(these)g(con\003icts)g(are)479 4254 y(reported)f(by)g(Happ)o
(y)-5 b(,)19 b(whereas)h(ones)g(that)g(are)g(automatically)f(resolv)o
(ed)g(by)g(the)i(precedence)d(rules)i(are)g(not\).)-2
4623 y Fd(2.4.2.)35 b(Conte)n(xt-dependent)h(Precedence)396
4791 y Fk(The)20 b(precedence)e(of)i(an)g(indi)n(vidual)f(rule)h(can)g
(be)g(o)o(v)o(erriden,)d(using)i Fh(conte)n(xt)h(pr)m(ecedence)p
Fk(.)f(This)h(is)h(useful)396 4899 y(when,)f(for)f(e)o(xample,)g(a)h
(particular)f(tok)o(en)h(has)g(a)h(dif)n(ferent)d(precedence)g
(depending)g(on)i(the)g(conte)o(xt.)f(A)396 5007 y(common)f(e)o(xample)
h(is)i(the)f(minus)g(sign:)g(it)h(has)f(high)f(precedence)f(when)h
(used)h(as)h(pre\002x)e(ne)o(gation,)f(b)n(ut)i(a)g(lo)n(wer)396
5115 y(precedence)e(when)i(used)g(as)h(binary)e(subtraction.)396
5264 y(W)-7 b(e)22 b(can)e(implement)f(this)h(in)h(Happ)o(y)e(as)i
(follo)n(ws:)p Black 3661 5692 a Fh(13)p Black eop
%%Page: 14 14
14 13 bop Black -2 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fg(\045nonassoc)44 b('>')g('<')396 676
y(\045right)g(in)396 773 y(\045left)g('+')h('-')396 870
y(\045left)f('*')h('/')396 967 y(\045left)f(NEG)396 1065
y(\045\045)396 1259 y(Exp)134 b(:)45 b(let)f(var)h('=')f(Exp)g(in)h
(Exp)89 b({)45 b(Let)f($2)g($4)h($6)f(})665 1356 y(|)h(Exp)f('+')h(Exp)
582 b({)45 b(Plus)f($1)g($3)h(})665 1453 y(|)g(Exp)f('-')h(Exp)582
b({)45 b(Minus)f($1)g($3)h(})665 1550 y(|)g(Exp)f('*')h(Exp)582
b({)45 b(Times)f($1)g($3)h(})665 1647 y(|)g(Exp)f('/')h(Exp)582
b({)45 b(Div)f($1)g($3)h(})665 1745 y(|)g('\(')f(Exp)h('\)')582
b({)45 b(Brack)f($2)g(})665 1842 y(|)h('-')f(Exp)h(\045prec)f(NEG)313
b({)45 b(Negate)e($2)i(})665 1939 y(|)g(int)941 b({)45
b(Int)f($1)g(})665 2036 y(|)h(var)941 b({)45 b(Var)f($1)g(})396
2227 y Fk(W)-7 b(e)22 b(in)m(v)o(ent)c(a)j(ne)n(w)f(tok)o(en)f
Fg(NEG)i Fk(as)g(a)f(placeholder)e(for)i(the)g(precedence)e(of)i(our)f
(pre\002x)h(ne)o(gation)e(rule.)h(The)h Fg(NEG)396 2335
y Fk(tok)o(en)g(doesn')o(t)e(need)i(to)g(appear)f(in)i(a)f
Fg(\045token)g Fk(directi)n(v)o(e.)f(The)g(pre\002x)h(ne)o(gation)e
(rule)i(has)g(a)h Fg(\045prec)44 b(NEG)396 2443 y Fk(directi)n(v)o(e)19
b(attached,)g(which)h(o)o(v)o(errides)e(the)i(def)o(ault)g(precedence)e
(for)i(the)g(rule)g(\(which)f(w)o(ould)g(normally)g(be)h(the)396
2551 y(precedence)e(of)i('-'\))g(with)g(the)g(precedence)e(of)i
Fg(NEG)p Fk(.)-2 3052 y Fm(2.5.)39 b(T)-9 b(ype)39 b(Signatures)396
3232 y Fk(Happ)o(y)20 b(allo)n(ws)g(you)f(to)i(include)e(type)g
(signatures)h(in)g(the)g(grammar)f(\002le)i(itself,)f(to)h(indicate)e
(the)h(type)g(of)g(each)396 3340 y(production.)e(This)i(has)g(se)n(v)o
(eral)g(bene\002ts:)p Black 396 3572 a Fe(\225)p Black
81 w Fk(Documentation:)d(including)h(types)i(in)g(the)g(grammar)e
(helps)i(to)g(document)d(the)j(grammar)e(for)i(someone)e(else)479
3680 y(\(and)i(indeed)f(yourself\))f(reading)h(the)h(code.)p
Black 396 3830 a Fe(\225)p Black 81 w Fk(Fixing)g(type)f(errors)h(in)g
(the)g(generated)f(module)g(can)h(become)e(slightly)i(easier)h(if)f
(Happ)o(y)f(has)i(inserted)f(type)479 3938 y(signatures)g(for)f(you.)g
(This)i(is)g(a)f(slightly)g(dubious)f(bene\002t,)g(since)i(type)f
(errors)f(in)h(the)g(generated)f(module)g(are)479 4046
y(still)j(some)n(what)d(dif)n(\002cult)h(to)g(\002nd.)p
Black 396 4195 a Fe(\225)p Black 80 w Fk(T)-7 b(ype)19
b(signatures)g(generally)f(help)h(the)h(Hask)o(ell)g(compiler)e(to)h
(compile)g(the)h(parser)e(f)o(aster)-5 b(.)20 b(This)g(is)g(important)
479 4303 y(when)g(really)g(lar)o(ge)f(grammar)f(\002les)j(are)g(being)e
(used.)396 4452 y(The)h(syntax)g(for)f(type)h(signatures)f(in)i(the)f
(grammar)e(\002le)j(is)g(as)g(follo)n(ws:)396 4633 y
Fg(stmts)134 b(::)44 b({)h([)g(Stmt)f(])h(})396 4730
y(stmts)134 b(:)45 b(stmts)f(stmt)716 b({)45 b($2)f(:)h($1)g(})396
4827 y(|)g(stmt)986 b({)44 b([$1])g(})396 5018 y Fk(In)20
b(f)o(act,)g(you)g(can)g(lea)n(v)o(e)g(out)f(the)i(super\003uous)d
(occurrence)g(of)i Fg(stmts)p Fk(:)396 5198 y Fg(stmts)134
b(::)44 b({)h([)g(Stmt)f(])h(})p Black -2 5692 a Fh(14)p
Black eop
%%Page: 15 15
15 14 bop Black 2928 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fg(:)45 b(stmts)f(stmt)717 b({)44 b($2)h(:)f($1)h(})396
676 y(|)g(stmt)986 b({)44 b([$1])g(})396 867 y Fk(Note)20
b(that)h(currently)-5 b(,)18 b(you)h(ha)n(v)o(e)g(to)i(include)e(type)h
(signatures)f(for)h Fh(all)g Fk(the)g(productions)e(in)i(the)h(grammar)
d(to)396 975 y(bene\002t)i(from)f(the)h(second)g(and)f(third)h(points)g
(abo)o(v)o(e.)e(This)i(is)h(due)f(to)g(boring)f(technical)g(reasons,)h
(b)n(ut)g(it)h(is)396 1083 y(hoped)e(that)h(this)h(restriction)e(can)h
(be)g(remo)o(v)o(ed)e(in)j(the)f(future.)-2 1501 y Fm(2.6.)39
b(Monadic)f(P)l(ar)n(ser)n(s)396 1681 y Fk(Happ)o(y)20
b(has)g(support)f(for)g(threading)g(a)h(monad)f(through)f(the)i
(generated)f(parser)-5 b(.)19 b(This)i(might)e(be)h(useful)g(for)396
1789 y(se)n(v)o(eral)g(reasons:)p Black 396 2022 a Fe(\225)p
Black 479 2171 a Fk(Handling)f(parse)h(errors)f(by)h(using)g(an)g(e)o
(xception)e(monad)h(\(see)h(Section)g(2.6.1\).)p Black
396 2362 a Fe(\225)p Black 479 2511 a Fk(K)n(eeping)f(track)h(of)g
(line)g(numbers)f(in)h(the)g(input)g(\002le,)g(for)g(e)o(xample)f(for)g
(use)i(in)f(error)f(messages)i(\(see)f(Section)479 2619
y(2.6.3\).)p Black 396 2810 a Fe(\225)p Black 81 w Fk(Performing)e(IO)i
(operations)f(during)f(parsing.)p Black 396 2960 a Fe(\225)p
Black 81 w Fk(P)o(arsing)i(languages)e(with)j(conte)o(xt-dependencies)
16 b(\(such)j(as)i(C\))g(require)e(some)h(state)h(in)f(the)g(parser)-5
b(.)396 3109 y(Adding)19 b(monadic)g(support)g(to)h(your)f(parser)g
(couldn')o(t)f(be)j(simpler)-5 b(.)20 b(Just)g(add)g(the)g(follo)n
(wing)f(directi)n(v)o(e)g(to)h(the)396 3217 y(declaration)f(section)h
(of)g(the)g(grammar)e(\002le:)396 3397 y Fg(\045monad)44
b({)h(<type>)f(})g([)h({)g(<then>)e(})i({)g(<return>)e(})i(])396
3588 y Fk(where)20 b Fg(<type>)g Fk(is)h(the)f(type)g(constructor)e
(for)h(the)i(monad,)d Fg(<then>)i Fk(is)h(the)f(bind)g(operation)e(of)i
(the)g(monad,)396 3696 y(and)g Fg(<return>)f Fk(is)i(the)g(return)e
(operation.)f(If)i(you)f(lea)n(v)o(e)h(out)g(the)g(names)g(for)g(the)g
(bind)f(and)h(return)f(operations,)396 3804 y(Happ)o(y)h(assumes)g
(that)g Fg(<type>)g Fk(is)h(an)f(instance)g(of)g(the)g(standard)f(Hask)
o(ell)i(type)f(class)h Fg(Monad)f Fk(and)f(uses)i(the)396
3912 y(o)o(v)o(erloaded)c(names)j(for)g(the)g(bind)f(and)h(return)f
(operations.)396 4061 y(When)h(this)g(declaration)e(is)i(included)e(in)
i(the)f(grammar)m(,)e(Happ)o(y)i(mak)o(es)g(a)h(couple)f(of)g(changes)f
(to)i(the)g(generated)396 4169 y(parser:)g(the)g(types)g(of)g(the)g
(main)g(parser)g(function)e(and)i Fg(happyError)f Fk(become)g
Fg([Token])43 b(->)i(P)g(a)20 b Fk(where)g Fg(P)396 4277
y Fk(is)h(the)g(monad)d(type)i(constructor)m(,)e(and)h
Fg(a)i Fk(is)g(the)f(type)g(of)g(the)g(top)g(production.)d(In)j(other)g
(w)o(ords,)f(Happ)o(y)g(adds)h(an)396 4385 y(application)f(of)h(the)g
Fg(<return>)f Fk(operation)g(de\002ned)g(in)h(the)h(declaration)d(abo)o
(v)o(e,)g(around)h(the)h(result)g(of)g(the)396 4493 y(parser)g(\()p
Fg(happyError)f Fk(is)i(af)n(fected)e(because)g(it)i(must)f(ha)n(v)o(e)
g(the)g(same)h(return)e(type)g(as)i(the)f(parser\).)f(And)h(that')-5
b(s)396 4601 y(all)21 b(it)g(does.)396 4750 y(This)g(still)g(isn')o(t)f
(v)o(ery)f(useful:)h(all)g(you)g(can)g(do)f(is)j(return)d(something)f
(of)i(monadic)f(type)h(from)f Fg(happyError)p Fk(.)396
4858 y(Ho)n(w)h(do)g(you)f(specify)h(that)g(the)g(productions)e(can)i
(also)h(ha)n(v)o(e)e(type)h Fg(P)45 b(a)p Fk(?)20 b(Most)h(of)e(the)i
(time,)f(you)f(don')o(t)g(w)o(ant)h(a)396 4966 y(production)d(to)j(ha)n
(v)o(e)f(this)h(type:)f(you')l(d)f(ha)n(v)o(e)h(to)g(write)h(e)o
(xplicit)f Fg(returnP)p Fk(s)g(e)n(v)o(erywhere.)e(Ho)n(we)n(v)o(er)m
(,)g(there)i(may)396 5074 y(be)h(a)g(fe)n(w)f(rules)g(in)h(a)g(grammar)
e(that)h(need)g(to)h(get)f(at)h(the)f(monad,)f(so)i(Happ)o(y)f(has)g(a)
h(special)g(syntax)f(for)f(monadic)396 5182 y(actions:)p
Black 3661 5692 a Fh(15)p Black eop
%%Page: 16 16
16 15 bop Black -2 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fg(n)90 b(:)f(t_1)45 b(...)f(t_n)448
b({\045)44 b(<expr>)g(})396 770 y Fk(The)20 b Fg(\045)h
Fk(in)f(the)g(action)g(indicates)g(that)g(this)h(is)g(a)g(monadic)d
(action,)i(with)g(type)g Fg(P)44 b(a)p Fk(,)21 b(where)e
Fg(a)i Fk(is)g(the)f(real)g(return)396 878 y(type)g(of)g(the)g
(production.)d(When)j(Happ)o(y)g(reduces)f(one)h(of)f(these)i(rules,)f
(it)h(e)n(v)n(aluates)e(the)h(e)o(xpression)396 1058
y Fg(<expr>)44 b(`then`)g(\\result)g(->)g(<continue)f(parsing>)396
1249 y Fk(Happ)o(y)20 b(uses)g Fg(result)g Fk(as)h(the)f(real)g
(semantic)g(v)n(alue)g(of)g(the)g(production.)d(During)i(parsing,)g(se)
n(v)o(eral)h(monadic)396 1357 y(actions)g(might)g(be)g(reduced,)e
(resulting)h(in)i(a)f(sequence)f(lik)o(e)396 1537 y Fg(<expr1>)44
b(`then`)g(\\r1)g(->)396 1634 y(<expr2>)g(`then`)g(\\r2)g(->)396
1731 y(...)396 1828 y(return)g(<expr3>)396 2019 y Fk(The)20
b(monadic)f(actions)h(are)g(performed)d(in)k(the)f(order)f(that)h(the)o
(y)g(are)g Fh(r)m(educed)r Fk(.)f(If)h(we)g(consider)g(the)g(parse)g
(as)h(a)396 2127 y(tree,)f(then)g(reductions)f(happen)f(in)i(a)h
(depth-\002rst)e(left-to-right)f(manner)-5 b(.)19 b(The)h(great)g
(thing)f(about)g(adding)g(a)396 2235 y(monad)g(to)h(your)f(parser)h(is)
h(that)f(it)h(doesn')o(t)e(impose)g(an)o(y)h(performance)d(o)o(v)o
(erhead)h(for)h(normal)g(reductions)g(-)396 2343 y(only)h(the)g
(monadic)f(ones)g(are)i(translated)e(lik)o(e)i(this.)396
2493 y(T)-7 b(ak)o(e)21 b(a)f(look)f(at)i(the)f(Hask)o(ell)h(parser)f
(for)f(a)i(good)d(illustration)i(of)g(ho)n(w)g(to)g(use)g(a)h(monad)e
(in)h(your)f(parser:)h(it)396 2600 y(contains)g(e)o(xamples)f(of)h(all)
g(the)h(principles)e(discussed)h(in)g(this)h(section,)f(namely)f(parse)
h(errors,)f(a)h(threaded)396 2708 y(le)o(x)o(er)m(,)f(line/column)f
(numbers,)h(and)g(state)i(communication)d(between)h(the)h(parser)g(and)
f(le)o(x)o(er)-5 b(.)396 2858 y(The)20 b(follo)n(wing)f(sections)h
(consider)f(a)i(couple)e(of)h(uses)g(for)g(monadic)f(parsers,)g(and)h
(describe)f(ho)n(w)h(to)g(also)396 2966 y(thread)f(the)i(monad)d
(through)g(the)j(le)o(xical)f(analyser)-5 b(.)-2 3294
y Fd(2.6.1.)35 b(Handling)g(P)l(ar)n(se)f(Err)n(or)n(s)396
3462 y Fk(It')-5 b(s)21 b(not)f(v)o(ery)f(con)m(v)o(enient)f(to)i(just)
h(call)f Fg(error)g Fk(when)g(a)g(parse)g(error)f(is)i(detected:)f(in)g
(a)h(rob)n(ust)f(setting,)f(you')l(d)396 3570 y(lik)o(e)i(the)f
(program)e(to)i(reco)o(v)o(er)e(gracefully)h(and)g(report)g(a)i(useful)
f(error)f(message)h(to)g(the)g(user)-5 b(.)21 b(Exceptions)d(\(of)396
3677 y(which)i(errors)f(are)h(a)h(special)f(case\))h(are)f(normally)e
(implemented)h(in)h(Hask)o(ell)g(by)g(using)g(an)g(e)o(xception)e
(monad,)396 3785 y(something)h(lik)o(e:)396 3966 y Fg(data)44
b(E)h(a)g(=)f(Ok)h(a)g(|)f(Failed)g(String)396 4160 y(thenE)g(::)h(E)f
(a)h(->)g(\(a)f(->)h(E)f(b\))h(->)f(E)h(b)396 4257 y(m)g(`thenE`)f(k)g
(=)531 4354 y(case)g(m)h(of)710 4451 y(Ok)g(a)f(->)h(k)f(a)441
4548 y(Failed)g(e)h(->)f(Failed)g(e)396 4743 y(returnE)g(::)g(a)h(->)g
(E)f(a)396 4840 y(returnE)g(a)h(=)f(Ok)h(a)396 5034 y(failE)f(::)h
(String)f(->)g(E)h(a)396 5131 y(failE)f(err)h(=)f(Failed)g(err)p
Black -2 5692 a Fh(16)p Black eop
%%Page: 17 17
17 16 bop Black 2928 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fg(catchE)44 b(::)h(E)f(a)h(->)f(\(String)g(->)h(E)f
(a\))h(->)f(E)h(a)396 676 y(catchE)f(m)h(k)f(=)531 773
y(case)g(m)h(of)665 870 y(Ok)g(a)f(->)h(OK)f(a)396 967
y(Failed)g(e)h(->)f(k)h(e)396 1158 y Fk(This)20 b(monad)f(just)h(uses)h
(a)f(string)g(as)g(the)g(error)f(type.)g(The)h(functions)e
Fg(thenE)i Fk(and)f Fg(returnE)g Fk(are)h(the)g(usual)g(bind)396
1266 y(and)g(return)f(operations)g(of)g(the)i(monad,)d
Fg(failE)i Fk(raises)h(an)f(error)m(,)e(and)i Fg(catchE)g
Fk(is)h(a)g(combinator)d(for)h(handling)396 1374 y(e)o(xceptions.)396
1524 y(W)-7 b(e)22 b(can)e(add)f(this)i(monad)e(to)h(the)g(parser)g
(with)g(the)g(declaration)396 1704 y Fg(\045monad)44
b({)h(E)f(})h({)g(thenE)f(})g({)h(returnE)f(})396 1895
y Fk(No)n(w)-5 b(,)20 b(without)f(changing)f(the)i(grammar)m(,)e(we)j
(can)f(change)f(the)h(de\002nition)f(of)h Fg(happyError)f
Fk(and)h(ha)n(v)o(e)396 2003 y(something)f(sensible)h(happen)f(for)g(a)
i(parse)f(error:)396 2183 y Fg(happyError)43 b(tokens)h(=)h(failE)f
("Parse)g(error")396 2374 y Fk(The)20 b(parser)g(no)n(w)f(raises)i(an)f
(e)o(xception)f(in)h(the)g(monad)f(instead)h(of)g(bombing)e(out)i(on)f
(a)i(parse)f(error)-5 b(.)396 2523 y(W)e(e)22 b(can)e(also)g(generate)f
(errors)g(during)g(parsing.)g(There)g(are)h(times)h(when)f(it)h(is)g
(more)e(con)m(v)o(enient)e(to)k(parse)f(a)396 2631 y(more)g(general)f
(language)f(than)i(that)g(which)g(is)h(actually)f(intended,)e(and)i
(check)f(it)i(later)-5 b(.)20 b(An)h(e)o(xample)d(comes)396
2739 y(from)h(Hask)o(ell,)i(where)e(the)i(precedence)d(v)n(alues)h(in)i
(in\002x)f(declarations)f(must)h(be)g(between)f(0)i(and)e(9:)396
2919 y Fg(prec)44 b(::)h({)g(Int)f(})665 3016 y(:)h(int)179
b({\045)44 b(if)h($1)f(<)h(0)g(||)f($1)h(>)f(9)1114 3114
y(then)g(failE)g("Precedence)f(out)h(of)h(range")755
3211 y(else)f(returnE)g($1)396 3308 y(})396 3499 y Fk(The)20
b(monadic)f(action)g(allo)n(ws)i(the)f(check)f(to)i(be)f(placed)f(in)i
(the)f(parser)g(itself,)g(where)g(it)h(belongs.)-2 3868
y Fd(2.6.2.)35 b(Threaded)f(Le)n(x)o(er)n(s)396 4036
y Fk(Happ)o(y)20 b(allo)n(ws)g(the)g(monad)f(concept)g(to)h(be)g(e)o
(xtended)f(to)h(the)g(le)o(xical)g(analyser)m(,)f(too.)g(This)i(has)f
(se)n(v)o(eral)g(useful)396 4144 y(consequences:)p Black
396 4377 a Fe(\225)p Black 81 w Fk(Le)o(xical)g(errors)f(can)h(be)g
(treated)g(in)g(the)g(same)h(w)o(ay)f(as)h(parse)f(errors,)f(using)g
(an)i(e)o(xception)d(monad.)p Black 396 4526 a Fe(\225)p
Black 81 w Fk(Information)f(such)j(as)h(the)f(current)f(\002le)i(and)f
(line)g(number)e(can)i(be)h(communicated)c(between)j(the)g(le)o(x)o(er)
f(and)479 4634 y(parser)-5 b(.)p Black 396 4783 a Fe(\225)p
Black 81 w Fk(General)20 b(state)g(communication)e(between)h(the)h
(parser)g(and)g(le)o(x)o(er)f(-)h(for)g(e)o(xample,)e(implementation)g
(of)i(the)479 4891 y(Hask)o(ell)h(layout)e(rule)h(requires)f(this)i
(kind)e(of)h(interaction.)p Black 396 5041 a Fe(\225)p
Black 81 w Fk(IO)g(operations)f(can)h(be)g(performed)e(in)i(the)g(le)o
(x)o(er)f(-)i(this)g(could)e(be)h(useful)g(for)f(follo)n(wing)g
(import/include)479 5149 y(declarations)g(for)h(instance.)p
Black 3658 5692 a Fh(17)p Black eop
%%Page: 18 18
18 17 bop Black -2 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fk(A)h(monadic)e(le)o(x)o(er)g(is)i(requested)e(by)h
(adding)e(the)j(follo)n(wing)d(declaration)h(to)h(the)g(grammar)f
(\002le:)396 759 y Fg(\045lexer)44 b({)h(<lexer>)e(})i({)g(<eof>)f(})
396 950 y Fk(where)20 b Fg(<lexer>)f Fk(is)j(the)e(name)f(of)h(the)g
(le)o(xical)g(analyser)g(function,)e(and)i Fg(<eof>)f
Fk(is)j(a)e(tok)o(en)g(that)g(is)h(to)f(be)396 1058 y(treated)g(as)h
(the)f(end)g(of)g(\002le.)396 1207 y(When)g(using)g(a)h(monadic)d(le)o
(x)o(er)m(,)h(the)h(parser)g(no)f(longer)g(reads)h(a)h(list)g(of)f(tok)
o(ens.)g(Instead,)f(it)i(calls)g(the)f(le)o(xical)396
1315 y(analysis)h(function)d(for)i(each)f(ne)n(w)h(tok)o(en)g(to)g(be)g
(read.)g(This)g(has)g(the)h(side)f(ef)n(fect)g(of)g(eliminating)f(the)
396 1423 y(intermediate)g(list)i(of)f(tok)o(ens,)g(which)f(is)i(a)g
(slight)f(performance)e(win.)396 1573 y(The)i(type)g(of)g(the)g(main)g
(parser)f(function)g(and)g Fg(happyError)h Fk(is)h(no)n(w)e(just)i
Fg(P)45 b(a)20 b Fk(-)h(the)f(input)f(is)i(being)f(handled)396
1681 y(completely)f(within)h(the)g(monad.)396 1830 y(The)g(le)o(xical)g
(analysis)g(function)f(must)h(ha)n(v)o(e)g(the)g(follo)n(wing)e(type:)
396 2010 y Fg(lexer)44 b(::)h(\(Token)f(->)g(P)h(a\))f(->)h(P)f(a)396
2201 y Fk(where)20 b Fg(P)g Fk(is)i(the)e(monad)f(type)g(constructor)f
(declared)h(with)i Fg(\045monad)p Fk(,)e(and)h Fg(a)h
Fk(can)f(be)g(replaced)f(by)g(the)i(parser)396 2309 y(return)e(type)h
(if)g(desired.)396 2459 y(Y)-9 b(ou)20 b(can)g(see)h(from)e(this)h
(type)g(that)g(the)h(le)o(x)o(er)e(tak)o(es)h(a)h Fh(continuation)d
Fk(as)i(an)h(ar)o(gument.)c(The)j(le)o(x)o(er)f(is)i(to)g(\002nd)f(the)
396 2566 y(ne)o(xt)g(tok)o(en,)f(and)h(pass)g(it)h(to)g(this)f
(continuation)e(to)i(carry)g(on)f(with)i(the)f(parse.)g(Ob)o(viously)-5
b(,)18 b(we)i(need)g(to)g(k)o(eep)396 2674 y(track)g(of)g(the)g(input)g
(in)g(the)g(monad)f(someho)n(w)-5 b(,)18 b(so)j(that)f(the)g(le)o(x)o
(er)f(can)h(do)g(something)f(dif)n(ferent)f(each)i(time)h(it')-5
b(s)396 2782 y(called!)396 2932 y(Let')g(s)21 b(tak)o(e)f(the)h(e)o
(xception)d(monad)h(abo)o(v)o(e,)f(and)h(e)o(xtend)g(it)i(to)g(add)e
(the)h(input)g(string)g(so)g(that)h(we)f(can)g(use)h(it)f(with)396
3040 y(a)h(threaded)d(le)o(x)o(er)-5 b(.)396 3220 y Fg(data)44
b(ParseResult)f(a)i(=)g(Ok)f(a)h(|)g(Failed)e(String)396
3317 y(type)h(P)h(a)g(=)f(String)g(->)h(ParseResult)e(a)396
3511 y(thenP)h(::)h(P)f(a)h(->)g(\(a)f(->)h(P)f(b\))h(->)f(P)h(b)396
3608 y(m)g(`thenP`)f(k)g(=)h(\\s)f(->)531 3706 y(case)g(m)h(s)f(of)710
3803 y(Ok)h(a)f(->)h(k)f(a)h(s)441 3900 y(Failed)f(e)h(->)f(Failed)g(e)
396 4094 y(returnP)g(::)g(a)h(->)g(P)f(a)396 4191 y(returnP)g(a)h(=)f
(\\s)h(->)f(Ok)h(a)396 4385 y(failP)f(::)h(String)f(->)g(P)h(a)396
4483 y(failP)f(err)h(=)f(\\s)h(->)f(Failed)g(err)396
4677 y(catchP)g(::)h(P)f(a)h(->)f(\(String)g(->)h(P)f(a\))h(->)f(P)h(a)
396 4774 y(catchP)f(m)h(k)f(=)h(\\s)g(->)531 4871 y(case)f(m)h(s)f(of)
665 4968 y(Ok)h(a)f(->)h(OK)f(a)396 5065 y(Failed)g(e)h(->)f(k)h(e)g(s)
p Black -2 5692 a Fh(18)p Black eop
%%Page: 19 19
19 18 bop Black 2928 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 396 579 a Fk(Notice)g(that)h(this)f(isn')o(t)g(a)h(real)f(state)h
(monad)e(-)h(the)g(input)g(string)g(just)g(gets)h(passed)f(around,)e
(not)i(returned.)e(Our)396 687 y(le)o(x)o(er)h(will)i(no)n(w)f(look)f
(something)g(lik)o(e)i(this:)396 867 y Fg(lexer)44 b(::)h(\(Token)f(->)
g(P)h(a\))f(->)h(P)f(a)396 964 y(lexer)g(cont)g(s)h(=)576
1061 y(...)f(lexical)g(analysis)f(code)h(...)576 1158
y(cont)g(token)g(s')396 1349 y Fk(the)20 b(le)o(x)o(er)g(grabs)f(the)h
(continuation)e(and)i(the)g(input)g(string,)f(\002nds)i(the)f(ne)o(xt)f
(tok)o(en)h Fg(token)p Fk(,)f(and)h(passes)h(it)396 1457
y(together)e(with)h(the)h(remaining)d(input)i(string)f
Fg(s')i Fk(to)f(the)g(continuation.)396 1607 y(W)-7 b(e)22
b(can)e(no)n(w)f(indicate)h(le)o(xical)g(errors)f(by)h(ignoring)e(the)i
(continuation)e(and)i(calling)f Fg(failP)44 b("error)396
1715 y(message")g(s)20 b Fk(within)g(the)h(le)o(x)o(er)e(\(don')o(t)f
(for)o(get)g(to)j(pass)f(the)h(input)e(string)h(to)g(mak)o(e)g(the)g
(types)g(w)o(ork)g(out\).)396 1864 y(This)h(may)e(all)i(seem)f(a)h(bit)
g(weird.)e(Why)-5 b(,)19 b(you)g(ask,)i(doesn')o(t)d(the)j(le)o(x)o(er)
e(just)h(ha)n(v)o(e)g(type)g Fg(P)44 b(Token)p Fk(?)20
b(W)-7 b(ell,)21 b(the)396 1972 y(decision)f(w)o(as)h(tak)o(en)f(to)g
(use)g(a)h(continuation)d(purely)h(for)g(performance)e(reasons.)j(If)g
(the)g(le)o(x)o(er)f(must)i(return)e(a)396 2080 y(tok)o(en,)g(then)h
(it)h(turns)f(out)g(that)g(the)g(input)g(string)g(must)g(be)g(a)g(real)
h(state)g(object,)e(and)h(the)g(monad)f(has)h(to)g(return)f(it)396
2188 y(as)i(well)g(as)g(pass)g(it)f(around.)e(If)j(you)e(w)o(ant)h(a)h
(le)o(x)o(er)e(of)h(type)g Fg(P)44 b(Token)p Fk(,)20
b(then)g(just)g(de\002ne)g(a)h(wrapper)d(to)j(deal)396
2296 y(with)g(the)f(continuation:)396 2476 y Fg(lexwrap)44
b(::)g(\(Token)g(->)h(P)f(a\))h(->)f(P)h(a)396 2573 y(lexwrap)f(cont)g
(=)h(real_lexer)e(`thenP`)h(\\token)f(->)i(cont)f(token)-2
2984 y Fd(2.6.3.)35 b(Line)f(Number)n(s)396 3152 y Fk(Pre)n(vious)20
b(v)o(ersions)f(of)h(Happ)o(y)f(had)h(a)g Fg(\045newline)g
Fk(directi)n(v)o(e)f(that)h(enabled)f(simple)h(line)g(numbers)f(to)h
(be)396 3260 y(counted)f(by)h(the)g(parser)f(and)h(referenced)e(in)i
(the)h(actions.)e(W)-7 b(e)22 b(w)o(arned)d(you)g(that)i(this)f(f)o
(acility)g(may)g(go)g(a)o(w)o(ay)396 3368 y(and)g(be)g(replaced)f(by)h
(something)e(more)i(general,)f(well)h(guess)h(what?)f(:-\))396
3517 y(Line)g(numbers)f(can)h(no)n(w)g(be)g(dealt)g(with)g(quite)g
(straightforw)o(ardly)d(using)j(a)h(monadic)d(parser/le)o(x)o(er)396
3625 y(combination.)g(Ok,)i(we)g(ha)n(v)o(e)g(to)g(e)o(xtend)f(the)h
(monad)f(a)i(bit)f(more:)396 3805 y Fg(type)44 b(LineNumber)g(=)g(Int)
396 3902 y(type)g(P)h(a)g(=)f(String)g(->)h(LineNumber)e(->)h
(ParseResult)f(a)396 4097 y(getLineNo)h(::)g(P)h(LineNumber)396
4194 y(getLineNo)f(=)g(\\s)h(l)f(->)h(Ok)f(l)396 4385
y Fk(\(the)20 b(rest)h(of)f(the)g(functions)f(in)h(the)g(monad)f(follo)
n(w)g(by)h(just)h(adding)e(the)h(e)o(xtra)f(line)i(number)d(ar)o
(gument)g(in)i(the)396 4493 y(same)h(w)o(ay)f(as)h(the)f(input)f
(string\).)h(Again,)f(the)h(line)g(number)f(is)i(just)f(passed)h(do)n
(wn,)d(not)i(returned:)f(this)h(is)i(OK)396 4601 y(because)e(of)g(the)g
(continuation-based)c(le)o(x)o(er)k(that)g(can)g(change)f(the)h(line)g
(number)f(and)g(pass)i(the)f(ne)n(w)g(one)g(to)g(the)396
4709 y(continuation.)396 4858 y(The)g(le)o(x)o(er)f(can)h(no)n(w)g
(update)f(the)h(line)h(number)d(as)j(follo)n(ws:)396
5038 y Fg(lexer)44 b(cont)g(s)h(=)486 5135 y(case)f(s)h(of)620
5232 y('\\n':s)89 b(->)g(\\line)44 b(->)h(lexer)f(cont)g(s)h(\(line)f
(+)g(1\))p Black 3661 5692 a Fh(19)p Black eop
%%Page: 20 20
20 19 bop Black -2 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 620 579 a Fg(...)45 b(rest)f(of)g(lexical)g(analysis)g(...)396
770 y Fk(It')-5 b(s)21 b(as)g(simple)f(as)h(that.)f(T)-7
b(ak)o(e)20 b(a)h(look)e(at)i(Happ)o(y')-5 b(s)20 b(o)n(wn)f(parser)h
(if)g(you)g(ha)n(v)o(e)f(the)i(sources)e(lying)h(around,)e(it)j(uses)
396 878 y(a)g(monad)e(just)h(lik)o(e)h(the)f(one)g(abo)o(v)o(e.)396
1027 y(Reporting)f(the)h(line)h(number)d(of)i(a)h(parse)e(error)h(is)h
(achie)n(v)o(ed)d(by)i(changing)e Fg(happyError)h Fk(to)h(look)g
(something)396 1135 y(lik)o(e)h(this:)396 1315 y Fg(happyError)43
b(::)i(P)g(a)396 1412 y(happyError)e(=)i(getLineNo)e(`thenP`)h(\\line)g
(->)979 1510 y(failP)g(\(show)g(line)g(++)h(":)f(parse)g(error"\))396
1701 y Fk(W)-7 b(e)22 b(can)e(also)g(get)g(hold)g(of)g(the)g(line)g
(number)e(during)h(parsing,)g(to)h(put)g(it)h(in)f(the)h(parsed)e(data)
h(structure)f(for)396 1808 y(future)g(reference.)g(A)h(good)f(w)o(ay)h
(to)h(do)e(this)i(is)g(to)g(ha)n(v)o(e)e(a)i(production)c(in)k(the)f
(grammar)e(that)j(returns)e(the)396 1916 y(current)g(line)h(number:)396
2097 y Fg(lineno)44 b(::)h({)f(LineNumber)f(})755 2194
y(:)i({-)f(empty)g(-})269 b({\045)44 b(getLineNo)g(})396
2385 y Fk(The)20 b(semantic)g(v)n(alue)g(of)f Fg(lineno)h
Fk(is)h(the)g(line)f(number)e(of)i(the)g(last)h(tok)o(en)f(read)f(-)i
(this)g(will)f(al)o(w)o(ays)h(be)f(the)396 2493 y(tok)o(en)g(directly)f
(follo)n(wing)g(the)h Fg(lineno)g Fk(symbol)f(in)h(the)g(grammar)m(,)e
(since)j(Happ)o(y)e(al)o(w)o(ays)i(k)o(eeps)e(one)396
2600 y(lookahead)f(tok)o(en)i(in)g(reserv)o(e.)-2 2970
y Fd(2.6.4.)35 b(Summar)q(y)396 3138 y Fk(The)20 b(types)g(of)g(v)n
(arious)f(functions)g(related)h(to)g(the)g(parser)g(are)g(dependent)e
(on)i(what)g(combination)e(of)h Fg(\045monad)396 3246
y Fk(and)h Fg(\045lexer)g Fk(directi)n(v)o(es)f(are)h(present)g(in)g
(the)g(grammar)-5 b(.)19 b(F)o(or)h(reference,)e(we)i(list)i(those)e
(types)g(here.)p Black 396 3478 a Fe(\225)p Black 81
w Fi(No)g Fa(\045monad)g Fi(or)g Fa(\045lexer)g Fi(.)479
3617 y Fg(parse)268 b(::)45 b([Token])f(->)g(a)479 3714
y(happyError)f(::)i([Token])f(->)g(a)p Black 396 3905
a Fe(\225)p Black 81 w Fi(with)21 b Fa(\045monad)e Fi(.)479
4044 y Fg(parse)268 b(::)45 b([Token])f(->)g(P)h(a)479
4141 y(happyError)e(::)i([Token])f(->)g(P)h(a)p Black
396 4332 a Fe(\225)p Black 81 w Fi(with)21 b Fa(\045lexer)e
Fi(.)479 4470 y Fg(parse)268 b(::)45 b(T)g(a)479 4567
y(happyError)e(::)i(T)g(a)479 4665 y(lexer)268 b(::)45
b(\(Token)f(->)g(T)h(a\))f(->)h(T)g(a)396 4814 y Fk(where)20
b(the)g(type)g(constructor)e Fg(T)j Fk(is)g(whate)n(v)o(er)d(you)i(w)o
(ant)g(\(usually)f Fg(T)45 b(a)g(=)f(String)g(->)h(a)p
Fk(.)20 b(I'm)g(not)f(sure)i(if)479 4922 y(this)g(is)g(useful,)f(or)f
(e)n(v)o(en)h(if)g(it)h(w)o(orks)f(properly)-5 b(.)p
Black 396 5071 a Fe(\225)p Black 81 w Fi(with)21 b Fa(\045monad)e
Fi(and)i Fa(\045lexer)f Fi(.)479 5210 y Fg(parse)268
b(::)45 b(P)g(a)p Black -2 5692 a Fh(20)p Black eop
%%Page: 21 21
21 20 bop Black 2928 67 a Fh(Chapter)20 b(2.)g(Using)g(Happy)p
Black 479 579 a Fg(happyError)43 b(::)i(P)g(a)479 676
y(lexer)268 b(::)45 b(\(Token)f(->)g(P)h(a\))f(->)h(P)g(a)-2
1219 y Fm(2.7.)39 b(The)g(Err)m(or)g(T)-11 b(oken)396
1399 y Fk(Happ)o(y)20 b(supports)f(a)h(limited)g(form)f(of)h(error)f
(reco)o(v)o(ery)-5 b(,)17 b(using)j(the)g(special)h(symbol)e
Fg(error)h Fk(in)g(a)h(grammar)d(\002le.)396 1507 y(When)i(Happ)o(y)g
(\002nds)g(a)g(parse)g(error)f(during)g(parsing,)g(it)i(automatically)d
(inserts)j(the)f Fg(error)g Fk(symbol;)f(if)i(your)396
1615 y(grammar)e(deals)h(with)g Fg(error)g Fk(e)o(xplicitly)-5
b(,)19 b(then)h(it)h(can)f(detect)g(the)g(error)f(and)g(carry)h(on.)396
1764 y(F)o(or)g(e)o(xample,)f(the)h(Happ)o(y)f(grammar)g(for)g(Hask)o
(ell)i(uses)f(error)f(reco)o(v)o(ery)f(to)i(implement)f(Hask)o(ell)i
(layout.)e(The)396 1872 y(grammar)g(has)h(a)h(rule)f(that)g(looks)g
(lik)o(e)g(this:)396 2052 y Fg(close)44 b(:)h('}')806
b({)45 b(\(\))g(})665 2149 y(|)g(error)268 b({)45 b(\(\))f(})396
2340 y Fk(This)21 b(says)f(that)h(a)f(close)h(brace)e(in)h(a)h
(layout-indented)c(conte)o(xt)i(may)h(be)g(either)g(a)g(curly)f(brace)h
(\(inserted)f(by)h(the)396 2448 y(le)o(xical)g(analyser\),)f(or)h(a)g
(parse)g(error)-5 b(.)396 2598 y(This)21 b(rule)e(is)j(used)e(to)g
(parse)g(e)o(xpressions)f(lik)o(e)h Fg(let)44 b(x)h(=)g(e)f(in)h(e')p
Fk(:)20 b(the)h(layout)e(system)h(inserts)h(an)f(open)396
2706 y(brace)g(before)e Fg(x)p Fk(,)j(and)e(the)h(occurrence)e(of)i
(the)g Fg(in)g Fk(symbol)g(generates)f(a)h(parse)g(error)m(,)f(which)g
(is)i(interpreted)e(as)h(a)396 2814 y(close)h(brace)e(by)h(the)g(abo)o
(v)o(e)f(rule.)396 2963 y(Note)h(for)g Fg(yacc)g Fk(users:)g(this)h
(form)e(of)h(error)f(reco)o(v)o(ery)f(is)j(strictly)g(more)e(limited)h
(than)g(that)g(pro)o(vided)e(by)h Fg(yacc)p Fk(.)396
3071 y(During)g(a)i(parse)f(error)f(condition,)f Fg(yacc)i
Fk(attempts)g(to)h(discard)e(states)i(and)f(tok)o(ens)g(in)g(order)f
(to)h(get)g(back)g(into)g(a)396 3179 y(state)h(where)f(parsing)f(may)h
(continue;)e(Happ)o(y)i(doesn')o(t)e(do)i(this.)h(The)e(reason)h(is)h
(that)f(normal)f Fg(yacc)h Fk(error)396 3287 y(reco)o(v)o(ery)e(is)j
(notoriously)d(hard)h(to)i(describe,)e(and)g(the)i(semantics)f(depend)e
(hea)n(vily)i(on)g(the)g(w)o(orkings)f(of)h(a)396 3395
y(shift-reduce)f(parser)-5 b(.)19 b(Furthermore,)f(dif)n(ferent)g
(implementations)h(of)h Fg(yacc)g Fk(appear)f(to)h(implement)f(error)
396 3503 y(reco)o(v)o(ery)f(dif)n(ferently)-5 b(.)17
b(Happ)o(y')-5 b(s)20 b(limited)g(error)f(reco)o(v)o(ery)f(on)i(the)g
(other)f(hand)g(is)i(well-de\002ned,)e(as)i(is)g(just)396
3611 y(suf)n(\002cient)f(to)g(implement)f(the)h(Hask)o(ell)h(layout)e
(rule)h(\(which)f(is)j(why)d(it)i(w)o(as)g(added)e(in)h(the)g(\002rst)h
(place\).)-2 3946 y Fm(Notes)p Black 396 4126 a Fk(1.)p
Black 70 w(Users)f(of)e Fg(yacc)h Fk(will)h(\002nd)e(this)i(f)o
(amiliar)m(,)d(Happ)o(y')-5 b(s)19 b(precedence)e(scheme)h(w)o(orks)h
(in)g(e)o(xactly)f(the)g(same)h(w)o(ay)-5 b(.)p Black
3661 5692 a Fh(21)p Black eop
%%Page: 22 22
22 21 bop Black Black -2 621 a Fj(Chapter)48 b(3.)f(In)-7
b(v)i(oking)48 b(Happ)m(y)396 869 y Fk(An)20 b(in)m(v)n(ocation)f(of)h
(Happ)o(y)f(has)h(the)h(follo)n(wing)d(syntax:)396 1049
y Fg(happy)44 b([)h(options)f(])g(<filename>)f([)i(options)f(])396
1240 y Fk(All)21 b(the)f(command)f(line)h(options)f(are)h(optional)f
(\(!\))h(and)f(may)h(occur)f(either)h(before)f(or)h(after)g(the)g
(input)f(\002le)396 1348 y(name.)396 1498 y(There)h(are)g(tw)o(o)g
(types)g(of)g(grammar)f(\002les,)h Fg(file.y)g Fk(and)g
Fg(file.ly)p Fk(,)f(with)i(the)f(latter)g(observing)e(the)j(re)n(v)o
(erse)396 1606 y(comment)e(bird)h(track)f(con)m(v)o(ention)e(\(i.e.)j
(each)g(code)g(line)g(must)g(be)o(gin)f(with)h('>'\).)g(The)g(e)o
(xamples)f(distrib)n(uted)396 1714 y(with)i(Happ)o(y)e(are)h(all)h(of)f
(the)g(.ly)g(form.)396 1863 y(Ca)n(v)o(eat:)h(When)f(using)f(hbc)h
(\(Chalmers)g(Hask)o(ell\))g(the)g(command)e(ar)o(gument)g(structure)h
(is)i(slightly)f(dif)n(ferent.)396 1971 y(This)h(is)g(because)e(the)h
(hbc)g(run)g(time)g(system)g(tak)o(es)h(some)f(\003ags)g(as)h(its)h(o)n
(wn)d(\(for)g(setting)i(things)e(lik)o(e)i(the)f(heap)396
2079 y(size,)h(etc\).)f(This)g(problem)f(can)h(be)g(circumv)o(ented)d
(by)j(adding)f(a)h(single)g Fg(-)h Fk(to)f(your)f(command)f(line.)j(So)
f(when)396 2187 y(using)g(a)h(hbc)e(generated)g(v)o(ersion)g(of)g(Happ)
o(y,)g(the)i(ar)o(gument)d(structure)h(is:)396 2367 y
Fg(happy)44 b(-)h([)g(options)e(])i(<filename>)e([)i(options)e(])396
2558 y Fk(Pedantic)20 b(programmers)d(can)j(either)g(use)h(aliases)g
(or)f(a)g(short)g(shell)h(wrapper)d(to)j(automatically)d(add)i(the)g
Fg(-)p Fk(,)396 2666 y(along)f(with)i(an)o(y)e(required)g(run)g(time)h
(system)h(ar)o(guments)d(\(Or)i(just)h(use)f(GHC)h(to)f(compile)g(Happ)
o(y!\).)396 2815 y(The)g(\003ags)h(accepted)e(by)h(Happ)o(y)f(are)h(as)
h(follo)n(ws:)396 3089 y Fg(-a)45 b(|)f(-arrays)p Black
Black 562 3388 a Fk(Instructs)20 b(Happ)o(y)f(to)i(generate)e(a)h
(parser)g(using)f(an)i(array-based)c(shift)k(reduce)e(parser)-5
b(.)20 b(When)g(used)g(in)562 3496 y(conjunction)e(with)i
Fg(-g)p Fk(,)h(the)f(arrays)f(will)i(be)f(encoded)f(as)i(strings,)f
(resulting)f(in)h(f)o(aster)h(parsers.)e(W)m(ithout)562
3604 y Fg(-g)p Fk(,)h(standard)g(Hask)o(ell)g(arrays)g(will)h(be)f
(used.)396 3878 y Fg(-g)45 b(|)f(-ghc)p Black Black 562
4177 a Fk(Instructs)20 b(Happ)o(y)f(to)i(generate)e(a)h(parser)g(that)g
(uses)h(GHC-speci\002c)f(e)o(xtensions)f(to)h(obtain)g(f)o(aster)g
(code.)396 4451 y Fg(-c)45 b(|)f(-coerce)p Black Black
562 4750 a Fk(Use)21 b(GHC')-5 b(s)22 b Fg(unsafeCoerce#)c
Fk(e)o(xtension)h(to)h(generate)f(smaller)h(f)o(aster)h(parsers.)e(T)-7
b(ype-safety)19 b(isn')o(t)562 4858 y(compromised.)562
5007 y(This)i(option)e(may)g(only)h(be)g(used)g(in)g(conjuction)e(with)
j Fg(-g)p Fk(.)p Black 3661 5762 a Fh(22)p Black eop
%%Page: 23 23
23 22 bop Black 2839 67 a Fh(Chapter)20 b(3.)g(In)m(voking)e(Happy)p
Black 396 579 a Fg(-d)45 b(|)f(-debug)p Black Black 562
878 a Fk(Generate)20 b(a)g(parser)g(that)g(will)h(print)f(deb)n(ugging)
d(information)h(to)i Fg(stderr)g Fk(at)h(run-time,)d(including)h(all)h
(the)562 986 y(shifts,)h(reductions,)d(state)j(transitions)f(and)f(tok)
o(en)h(inputs)g(performed)d(by)j(the)g(parser)-5 b(.)562
1135 y(This)21 b(option)e(can)h(only)f(be)h(used)g(in)g(conjunction)e
(with)j Fg(-a)p Fk(.)396 1409 y Fg(-i[<filename>])43
b(|)h(-info[=<filename>])p Black Black 562 1708 a Fk(Directs)20
b(Happ)o(y)f(to)g(produce)f(an)h(info)g(\002le)h(containing)d(detailed)
i(information)e(about)i(the)g(grammar)m(,)f(parser)562
1816 y(states,)j(parser)f(actions,)g(and)f(con\003icts.)h(Info)f
(\002les)i(are)f(vital)h(during)d(the)j(deb)n(ugging)c(of)j(grammars.)f
(The)562 1924 y(\002lename)h(ar)o(gument)e(is)j(optional)e(\(note)g
(that)h(there')-5 b(s)21 b(no)e(space)i(between)e Fg(-i)h
Fk(and)g(the)g(\002lename)g(in)g(the)562 2032 y(short)g(v)o(ersion\),)e
(and)i(if)h(omitted)e(the)h(info)g(\002le)h(will)g(be)f(written)g(to)g
Fg(<file>.info)f Fk(\(where)g Fg(<file>)p Fk(;)h(is)562
2140 y(the)h(input)e(\002le)i(name)e(with)i(an)o(y)e(e)o(xtension)g
(remo)o(v)o(ed\).)396 2414 y Fg(-o)45 b(<filename>)e(|)i
(-outfile=<filename>)p Black Black 562 2563 a Fk(Speci\002es)21
b(the)f(destination)f(of)h(the)g(generated)f(parser)g(module.)g(If)h
(omitted,)f(the)h(parser)g(will)h(be)f(placed)f(in)562
2671 y Fg(<file>.hs)p Fk(,)g(where)h Fg(<file>)g Fk(is)h(the)f(name)g
(of)f(the)i(input)e(\002le)i(with)f(an)o(y)g(e)o(xtension)e(remo)o(v)o
(ed.)396 2904 y Fg(-m)45 b(<name>)f(|)g(-magic-name=<name>)p
Black Black 582 3053 a Fk(Happ)o(y)19 b(pre\002x)o(es)f(all)i(the)g
(symbols)f(it)h(uses)g(internally)e(with)h(either)g Fg(happy)h
Fk(or)f Fg(Happy)p Fk(.)g(T)-7 b(o)19 b(use)h(a)g(dif)n(ferent)562
3161 y(string,)g(for)f(e)o(xample)g(if)i(the)f(use)g(of)g
Fg(happy)g Fk(is)h(con\003icting)e(with)i(one)e(of)h(your)f(o)n(wn)h
(functions,)e(specify)562 3269 y(the)j(pre\002x)e(using)h(the)g
Fg(-m)g Fk(option.)396 3501 y Fg(-v)45 b(|)f(-version)p
Black Black 562 3651 a Fk(Print)21 b(v)o(ersion)d(information)g(on)i
(standard)f(output)g(then)h(e)o(xit)g(successfully)-5
b(.)396 3883 y Fg(-t)45 b(<directory>)e(|)h(-template)g(<directory>)p
Black Black 562 4182 a Fk(Instructs)20 b(Happ)o(y)f(to)i(use)f(this)h
(directory)d(when)i(looking)e(for)i(template)f(\002les:)j(these)e
(\002les)h(contain)e(the)562 4290 y(static)i(code)f(that)g(Happ)o(y)f
(includes)h(in)g(e)n(v)o(ery)f(generated)f(parser)-5
b(.)20 b(Y)-9 b(ou)20 b(shouldn')o(t)e(need)h(to)i(use)f(this)h(option)
562 4398 y(if)g(Happ)o(y)e(is)i(properly)d(con\002gured)g(for)i(your)f
(computer)-5 b(.)p Black 3661 5692 a Fh(23)p Black eop
%%Page: 24 24
24 23 bop Black Black -2 621 a Fj(Chapter)48 b(4.)f(Syntax)h(of)g
(Grammar)f(Files)396 869 y Fk(The)20 b(input)g(to)g(Happ)o(y)f(is)i(a)g
(te)o(xt)f(\002le)h(containing)d(the)i(grammar)f(of)h(the)g(language)e
(you)i(w)o(ant)g(to)g(parse,)g(together)396 977 y(with)h(some)f
(annotations)e(that)i(help)g(the)g(parser)g(generator)e(mak)o(e)i(a)h
(le)o(gal)e(Hask)o(ell)i(module)d(that)j(can)f(be)396
1085 y(included)f(in)h(your)f(program.)f(This)i(section)g(gi)n(v)o(es)g
(the)g(e)o(xact)g(syntax)f(of)h(grammar)f(\002les.)396
1235 y(The)h(o)o(v)o(erall)f(format)g(of)h(the)g(grammar)f(\002le)h(is)
i(gi)n(v)o(en)c(belo)n(w:)396 1415 y Fg(<optional)44
b(module)f(header>)396 1512 y(<directives>)396 1609 y(\045\045)396
1706 y(<grammar>)396 1803 y(<optional)h(module)f(trailer>)396
1994 y Fk(If)20 b(the)h(name)e(of)h(the)g(grammar)f(\002le)i(ends)e(in)
i Fg(.ly)p Fk(,)f(then)g(it)g(is)i(assumed)d(to)i(be)f(a)g(literate)h
(script.)f(All)g(lines)h(e)o(xcept)396 2102 y(those)f(be)o(ginning)e
(with)i(a)h Fg(>)f Fk(will)h(be)g(ignored,)d(and)h(the)h
Fg(>)h Fk(will)g(be)f(stripped)f(from)h(the)g(be)o(ginning)d(of)j(all)h
(the)396 2210 y(code)f(lines.)g(There)f(must)i(be)f(a)g(blank)g(line)g
(between)f(each)h(code)g(section)g(\(lines)g(be)o(ginning)d(with)k
Fg(>)p Fk(\))f(and)396 2318 y(comment)f(section.)h(Grammars)f(not)h
(using)f(the)i(literate)f(notation)f(must)h(be)g(in)h(a)f(\002le)h
(with)f(the)h Fg(.y)f Fk(suf)n(\002x.)-2 2695 y Fm(4.1.)39
b(Le)n(xical)f(Rules)396 2875 y Fk(Identi\002ers)20 b(in)g(Happ)o(y)f
(grammar)g(\002les)i(must)f(tak)o(e)g(the)h(follo)n(wing)d(form)h
(\(using)h(the)g(BNF)h(syntax)f(from)f(the)396 2983 y(Hask)o(ell)i
(Report\):)755 3163 y Fg(id)269 b(::=)44 b(alpha)g({)h(idchar)e(})1203
3260 y(|)i(')g({)f(any{^'})g(|)h(\\')f(})h(')1203 3357
y(|)g(")g({)f(any{^"})g(|)h(\\")f(})h(")755 3551 y(alpha)134
b(::=)44 b(A)h(|)f(B)h(|)g(...)f(|)h(Z)1203 3649 y(|)g(a)g(|)f(b)h(|)g
(...)f(|)h(z)755 3843 y(idchar)89 b(::=)44 b(alpha)1203
3940 y(|)h(0)g(|)f(1)h(|)g(...)f(|)h(9)1203 4037 y(|)g(_)-2
4497 y Fm(4.2.)39 b(Module)f(Header)396 4677 y Fk(This)21
b(section)f(is)h(optional,)d(b)n(ut)j(if)f(included)f(tak)o(es)h(the)g
(follo)n(wing)f(form:)396 4857 y Fg({)396 4954 y(<Haskell)44
b(module)g(header>)396 5051 y(})p Black 3661 5692 a Fh(24)p
Black eop
%%Page: 25 25
25 24 bop Black 2532 67 a Fh(Chapter)20 b(4.)g(Syntax)f(of)h(Gr)o
(ammar)g(F)l(iles)p Black 396 579 a Fk(The)g(Hask)o(ell)h(module)d
(header)h(contains)h(the)g(module)f(name,)g(e)o(xports,)g(and)h
(imports.)f(No)h(other)f(code)h(is)396 687 y(allo)n(wed)g(in)g(the)g
(header)n(\227this)g(is)h(because)e(Happ)o(y)h(may)f(need)h(to)g
(include)f(its)j(o)n(wn)d Fg(import)h Fk(statements)396
795 y(directly)g(after)f(the)i(user)f(de\002ned)f(header)-5
b(.)-2 1213 y Fm(4.3.)39 b(Directives)396 1393 y Fk(This)21
b(section)f(contains)f(a)i(number)d(of)i(lines)h(of)e(the)i(form:)396
1573 y Fg(\045<directive)43 b(name>)h(<argument>)f(...)396
1764 y Fk(The)20 b(statements)g(here)g(are)g(all)h(annotations)d(to)j
(help)f(Happ)o(y)f(generate)g(the)h(Hask)o(ell)h(code)e(for)h(the)g
(grammar)-5 b(.)396 1872 y(Some)20 b(of)g(them)g(are)g(optional,)f(and)
g(some)h(of)g(them)g(are)g(required.)-2 2200 y Fd(4.3.1.)35
b(T)-10 b(oken)35 b(T)-7 b(ype)396 2380 y Fg(\045tokentype)133
b({)45 b(<valid)f(Haskell)f(type>)h(})396 2571 y Fk(\(mandatory\))17
b(The)j Fg(\045tokentype)f Fk(directi)n(v)o(e)g(gi)n(v)o(es)g(the)i
(type)e(of)h(the)g(tok)o(ens)g(passed)g(from)f(the)h(le)o(xical)g
(analyser)396 2679 y(to)h(the)f(parser)f(\(in)h(order)f(that)i(Happ)o
(y)e(can)h(supply)f(types)h(for)g(functions)e(and)i(data)g(in)g(the)h
(generated)d(parser\).)-2 3049 y Fd(4.3.2.)35 b(T)-10
b(okens)396 3229 y Fg(\045token)44 b(<name>)g({)h(<Haskell)e(pattern>)h
(})710 3326 y(<name>)g({)h(<Haskell)e(pattern>)h(})710
3423 y(...)396 3614 y Fk(\(mandatory\))17 b(The)j Fg(\045token)g
Fk(directi)n(v)o(e)f(is)i(used)f(to)g(tell)h(Happ)o(y)e(about)h(all)g
(the)h(terminal)e(symbols)h(used)g(in)g(the)396 3722
y(grammar)-5 b(.)19 b(Each)h(terminal)f(has)i(a)f(name,)f(by)h(which)g
(it)h(is)g(referred)d(to)j(in)f(the)g(grammar)f(itself,)h(and)g(a)h
(Hask)o(ell)396 3830 y(representation)d(enclosed)i(in)g(braces.)f(Each)
h(of)g(the)g(patterns)g(must)g(be)g(of)g(the)g(same)h(type,)e(gi)n(v)o
(en)g(by)h(the)396 3938 y Fg(\045tokentype)f Fk(directi)n(v)o(e.)396
4087 y(The)h(name)g(of)g(each)f(terminal)h(follo)n(ws)g(the)g(le)o
(xical)g(rules)g(for)f(Happ)o(y)h(identi\002ers)g(gi)n(v)o(en)e(abo)o
(v)o(e.)h(There)g(are)h(no)396 4195 y(le)o(xical)g(dif)n(ferences)f
(between)g(terminals)h(and)f(non-terminals)f(in)j(the)f(grammar)m(,)e
(so)i(it)h(is)g(recommended)c(that)396 4303 y(you)j(stick)g(to)g(a)h
(con)m(v)o(ention;)c(for)j(e)o(xample)f(using)g(upper)g(case)i(letters)
f(for)g(terminals)g(and)f(lo)n(wer)h(case)h(for)396 4411
y(non-terminals,)d(or)i(vice-v)o(ersa.)396 4561 y(Happ)o(y)g(will)g(gi)
n(v)o(e)g(you)f(a)i(w)o(arning)e(if)h(you)g(try)g(to)g(use)g(the)g
(same)h(identi\002er)e(both)h(as)h(a)f(non-terminal)e(and)i(a)396
4669 y(terminal,)f(or)h(introduce)f(an)h(identi\002er)f(which)h(is)h
(declared)e(as)i(neither)-5 b(.)396 4818 y(T)e(o)21 b(sa)n(v)o(e)f
(writing)g(lots)g(of)g(projection)f(functions)f(that)j(map)e(tok)o(ens)
h(to)g(their)g(components,)e(you)h(can)h(include)g Fg($$)396
4926 y Fk(in)h(your)e(Hask)o(ell)h(pattern.)f(F)o(or)h(e)o(xample:)396
5106 y Fg(\045token)44 b(INT)g({)h(TokenInt)f($$)g(})710
5203 y(...)p Black 3661 5692 a Fh(25)p Black eop
%%Page: 26 26
26 25 bop Black -2 67 a Fh(Chapter)20 b(4.)g(Syntax)f(of)h(Gr)o(ammar)g
(F)l(iles)p Black 396 579 a Fk(This)h(mak)o(es)f(the)g(semantic)g(v)n
(alue)f(of)h Fg(INT)g Fk(refer)g(to)g(the)g(\002rst)h(ar)o(gument)d(of)
i Fg(TokenInt)g Fk(rather)f(than)h(the)g(whole)396 687
y(tok)o(en,)f(eliminating)g(the)i(need)e(for)h(an)o(y)f(projection)f
(function.)-2 1056 y Fd(4.3.3.)35 b(P)l(ar)n(ser)f(Name)396
1237 y Fg(\045name)44 b(<Haskell)g(identifier>)396 1428
y Fk(\(optional\))18 b(The)i Fg(\045name)g Fk(directi)n(v)o(e)f(is)i
(follo)n(wed)e(by)h(a)g(v)n(alid)g(Hask)o(ell)h(identi\002er)m(,)e(and)
g(gi)n(v)o(es)h(the)g(name)g(of)g(the)396 1535 y(top-le)n(v)o(el)f
(parsing)g(function)f(in)j(the)f(generated)e(parser)-5
b(.)20 b(This)h(is)g(the)f(only)f(function)g(that)h(needs)g(to)g(be)g
(e)o(xported)396 1643 y(from)f(a)i(parser)f(module.)396
1793 y(If)g(the)h(parser)e(name)h(directi)n(v)o(e)f(is)i(omitted,)e(it)
i(def)o(aults)f(to)g Fg(happyParse)p Fk(.)-2 2162 y Fd(4.3.4.)35
b(Monad)f(Directive)396 2343 y Fg(\045monad)44 b({)h(<type>)f(})g({)h
(<then>)f(})g({)h(<return>)f(})396 2534 y Fk(\(optional\))18
b(The)i Fg(\045monad)g Fk(directi)n(v)o(e)f(tak)o(es)i(three)e(ar)o
(guments:)f(the)j(type)e(constructor)g(of)h(the)g(monad,)e(the)i
Fg(then)396 2642 y Fk(\(or)g Fg(bind)p Fk(\))g(operation,)e(and)h(the)h
Fg(return)g Fk(\(or)g Fg(unit)p Fk(\))g(operation.)e(The)h(type)h
(constructor)e(can)i(be)h(an)o(y)e(type)h(with)396 2749
y(kind)g Fg(*)44 b(->)h(*)p Fk(.)396 2899 y(Monad)19
b(declarations)g(are)h(described)f(in)h(more)g(detail)g(in)g(Section)g
(2.6.)-2 3268 y Fd(4.3.5.)35 b(Le)n(xical)h(Anal)n(yser)396
3449 y Fg(\045lexer)44 b({)h(<lexer>)e(})i({)g(<eof>)f(})396
3640 y Fk(\(optional\))18 b(The)i Fg(\045lexer)g Fk(directi)n(v)o(e)f
(tak)o(es)i(tw)o(o)f(ar)o(guments:)e Fg(<lexer>)i Fk(is)h(the)f(name)g
(of)g(the)g(le)o(xical)g(analyser)396 3748 y(function,)e(and)i
Fg(<eof>)g Fk(is)h(a)g(tok)o(en)e(that)h(is)i(to)e(be)g(treated)g(as)h
(the)f(end)f(of)h(\002le.)396 3897 y(Le)o(x)o(er)f(declarations)g(are)h
(described)f(in)h(more)g(detail)g(in)g(Section)g(2.6.2.)-2
4267 y Fd(4.3.6.)35 b(Precedence)g(dec)n(larations)396
4447 y Fg(\045left)224 b(<name>)43 b(...)396 4544 y(\045right)179
b(<name>)43 b(...)396 4641 y(\045nonassoc)h(<name>)f(...)396
4832 y Fk(These)20 b(declarations)f(are)h(used)g(to)h(specify)e(the)h
(precedences)f(and)g(associati)n(vity)h(of)g(tok)o(ens.)f(The)h
(precedence)396 4940 y(assigned)g(by)g(a)g Fg(\045left)p
Fk(,)g Fg(\045right)g Fk(or)g Fg(\045nonassoc)f Fk(declaration)g(is)i
(de\002ned)e(to)h(be)g(higher)f(than)h(the)g(precedence)396
5048 y(assigned)g(by)g(all)g(declarations)f(earlier)h(in)h(the)f
(\002le,)g(and)g(lo)n(wer)g(than)f(the)i(precedence)d(assigned)h(by)h
(all)396 5156 y(declarations)f(later)h(in)h(the)f(\002le.)p
Black -2 5692 a Fh(26)p Black eop
%%Page: 27 27
27 26 bop Black 2532 67 a Fh(Chapter)20 b(4.)g(Syntax)f(of)h(Gr)o
(ammar)g(F)l(iles)p Black 396 579 a Fk(The)g(associati)n(vity)g(of)g(a)
g(tok)o(en)g(relati)n(v)o(e)f(to)i(tok)o(ens)e(in)i(the)f(same)g
Fg(\045left)p Fk(,)g Fg(\045right)p Fk(,)f(or)h Fg(\045nonassoc)396
687 y Fk(declaration)f(is)i(to)f(the)h(left,)f(to)g(the)g(right,)g(or)g
(non-associati)n(v)o(e)d(respecti)n(v)o(ely)-5 b(.)-2
1188 y Fm(4.4.)39 b(Grammar)396 1368 y Fk(The)20 b(grammar)f(section)h
(comes)f(after)h(the)g(directi)n(v)o(es,)f(separated)h(from)f(them)h
(by)f(a)i(double-percent)c(\()p Fg(\045\045)p Fk(\))396
1476 y(symbol.)i(This)i(section)f(contains)f(a)i(number)d(of)i
Fh(pr)l(oductions)p Fk(,)e(each)i(of)g(which)g(de\002nes)g(a)g(single)h
(non-terminal.)396 1584 y(Each)f(production)d(has)k(the)f(follo)n(wing)
f(syntax:)396 1764 y Fg(<non-terminal>)43 b([)h(::)h({)g(<type>)e(})i
(])755 1861 y(:)89 b(<id>)45 b(...)f({[\045])g(<expression>)f(})665
1958 y([)i(|)89 b(<id>)45 b(...)f({[\045])g(<expression>)f(})755
2056 y(...)h(])396 2247 y Fk(The)20 b(\002rst)h(line)f(gi)n(v)o(es)g
(the)g(non-terminal)e(to)i(be)g(de\002ned)g(by)f(the)i(production)c
(and)j(optionally)e(its)j(type)f(\(type)396 2354 y(signatures)g(for)f
(productions)f(are)i(discussed)g(in)g(Section)g(2.5\).)396
2504 y(Each)g(production)d(has)k(at)g(least)g(one,)e(and)h(possibly)f
(man)o(y)g(right-hand)f(sides.)i(Each)g(right-hand)e(side)i(consists)
396 2612 y(of)g(zero)g(or)g(more)f(symbols)h(\(terminals)f(or)h
(non-terminals\))e(and)h(a)i(Hask)o(ell)f(e)o(xpression)f(enclosed)g
(in)i(braces.)396 2720 y(The)f(e)o(xpression)f(represents)g(the)h
(semantic)g(v)n(alue)g(of)g(the)g(non-terminal,)d(and)j(may)g(refer)f
(to)h(the)g(semantic)396 2828 y(v)n(alues)g(of)g(the)g(symbols)g(in)g
(the)g(right-hand)e(side)i(using)g(the)g(meta-v)n(ariables)f
Fg($1)44 b(...)h($n)p Fk(.)396 2977 y(Remember)19 b(that)i(all)f(the)h
(e)o(xpressions)d(for)i(a)h(production)c(must)j(ha)n(v)o(e)g(the)g
(same)h(type.)396 3127 y(A)g(semantic)f(v)n(alue)f(of)h(the)g(form)g
Fg({\045)44 b(...)g(})21 b Fk(is)g(a)g Fh(monadic)d(action)p
Fk(,)i(and)f(is)i(only)f(v)n(alid)f(when)h(the)g(grammar)396
3234 y(\002le)h(contains)f(a)g Fg(\045monad)g Fk(directi)n(v)o(e)f
(\(Section)g(4.3.4\).)g(Monadic)f(actions)i(are)h(discussed)e(in)i
(Section)f(2.6.)-2 3653 y Fm(4.5.)39 b(Module)f(T)-11
b(railer)396 3833 y Fk(The)20 b(module)e(trailer)h(is)i(optional,)d
(comes)h(right)g(at)h(the)g(end)f(of)g(the)h(grammar)e(\002le,)i(and)f
(tak)o(es)h(the)g(same)g(form)e(as)396 3941 y(the)i(module)f(header:)
396 4121 y Fg({)396 4218 y(<Haskell)44 b(code>)396 4315
y(})396 4506 y Fk(This)20 b(section)g(is)h(used)f(for)g(placing)f
(auxiliary)f(de\002nitions)i(that)g(need)f(to)h(be)g(in)g(the)h(same)f
(module)e(as)j(the)f(parser)-5 b(.)396 4614 y(In)20 b(small)h(parsers,)
e(it)i(often)f(contains)f(a)i(hand-written)d(le)o(xical)i(analyser)f
(too.)h(There)f(is)i(no)f(restriction)f(on)h(what)396
4722 y(can)g(be)g(placed)g(in)g(the)g(module)f(trailer)m(,)h(and)f(an)o
(y)h(code)f(in)i(there)e(is)i(copied)e(v)o(erbatim)g(into)h(the)g
(generated)396 4830 y(parser)g(\002le.)p Black 3658 5692
a Fh(27)p Black eop
%%Page: 28 28
28 27 bop Black Black -2 621 a Fj(Chapter)48 b(5.)f(Inf)m(o)h(Files)396
869 y Fk(\(section)20 b(under)f(construction\))p Black
3661 5692 a Fh(28)p Black eop
%%Page: 29 29
29 28 bop Black Black -2 621 a Fj(Chapter)48 b(6.)f(Tips)396
869 y Fk(This)21 b(section)f(contains)f(a)i(lot)f(of)g(accumulated)e
(lore)i(about)f(using)h(Happ)o(y.)-2 1246 y Fm(6.1.)39
b(P)l(erf)m(ormance)e(Tips)396 1426 y Fk(Ho)n(w)20 b(to)h(mak)o(e)e
(your)g(parser)h(go)g(f)o(aster:)p Black 396 1659 a Fe(\225)p
Black 479 1808 a Fk(If)g(you)g(are)g(using)f(GHC,)i(generate)e(parsers)
h(using)g(the)g Fg(-g)44 b(-a)h(-c)20 b Fk(options,)f(and)h(compile)f
(them)h(using)479 1916 y(GHC)h(with)g(the)f Fg(-fglasgow-exts)e
Fk(option.)h(This)h(is)h(w)o(orth)f(a)h Fh(lot)q Fk(,)f(in)h(terms)f
(of)g(compile-time,)e(e)o(x)o(ecution)479 2024 y(speed)i(and)g(binary)f
(size)1212 1991 y Fc(1)1237 2024 y Fk(.)p Black 396 2215
a Fe(\225)p Black 81 w Fk(The)h(le)o(xical)g(analyser)f(is)i(usually)f
(the)g(most)g(performance)e(critical)i(part)g(of)g(a)g(parser)m(,)f(so)
i(it')-5 b(s)21 b(w)o(orth)479 2323 y(spending)d(some)i(time)g
(optimising)f(this.)h(Pro\002ling)f(tools)h(are)f(essential)i(here.)e
(In)g(really)h(dire)f(circumstances,)479 2431 y(resort)h(to)g(some)g
(of)g(the)h(hacks)e(that)i(are)f(used)g(in)g(the)g(Glasgo)n(w)g(Hask)o
(ell)h(Compiler')-5 b(s)19 b(interf)o(ace-\002le)g(le)o(x)o(er)-5
b(.)p Black 396 2580 a Fe(\225)p Black 81 w Fk(Simplify)19
b(the)i(grammar)d(as)j(much)e(as)i(possible,)f(as)h(this)f(reduces)g
(the)g(number)e(of)i(states)h(and)f(reduction)479 2688
y(rules)g(that)h(need)e(to)i(be)f(applied.)p Black 396
2837 a Fe(\225)p Black 479 2987 a Fk(Use)h(left)g(recursion)d(rather)i
(than)f(right)h(recursion)f(where)n(v)o(er)f(possible.)i(While)g(not)g
(strictly)g(a)h(performance)479 3095 y(issue,)g(this)g(af)n(fects)e
(the)i(size)g(of)e(the)i(parser)e(stack,)h(which)g(is)h(k)o(ept)f(on)g
(the)g(heap)g(and)f(thus)h(needs)g(to)g(be)479 3203 y(garbage)e
(collected.)-2 3663 y Fm(6.2.)39 b(Compilation-Time)c(Tips)396
3843 y Fk(W)-7 b(e)22 b(ha)n(v)o(e)d(found)g(that)h(compiling)e
(parsers)i(generated)f(by)h(Happ)o(y)f(can)h(tak)o(e)g(a)h(lar)o(ge)e
(amount)g(of)h(time/memory)-5 b(,)396 3950 y(so)21 b(here')-5
b(s)20 b(some)g(tips)h(on)e(making)g(things)h(more)f(sensible:)p
Black 396 4183 a Fe(\225)p Black 81 w Fk(Include)g(as)i(little)g(code)e
(as)i(possible)f(in)g(the)h(module)d(trailer)-5 b(.)21
b(This)f(code)f(is)j(included)c(v)o(erbatim)h(in)h(the)479
4291 y(generated)f(parser)m(,)g(so)h(if)h(an)o(y)e(of)h(it)h(can)f(go)g
(in)g(a)h(separate)e(module,)g(do)h(so.)p Black 396 4440
a Fe(\225)p Black 479 4590 a Fk(Gi)n(v)o(e)g(type)g(signatures)f(for)h
(e)n(v)o(erything)d(\(see)k(Section)f(2.5.)f(This)h(is)h(reported)e(to)
h(impro)o(v)o(e)e(things)i(by)g(about)479 4698 y(50\045.)g(If)g(there)g
(is)h(a)f(type)g(signature)f(for)h(e)n(v)o(ery)f(single)h(non-terminal)
d(in)k(the)f(grammar)m(,)e(then)i(Happ)o(y)479 4806 y(automatically)f
(generates)g(type)h(signatures)f(for)h(most)g(functions)f(in)h(the)g
(parser)-5 b(.)p Black 396 4997 a Fe(\225)p Black 81
w Fk(Simplify)19 b(the)i(grammar)d(as)j(much)e(as)i(possible)f
(\(applies)g(to)g(e)n(v)o(erything,)d(this)k(one\).)p
Black 396 5146 a Fe(\225)p Black 81 w Fk(Use)g(a)g(recent)e(v)o(ersion)
g(of)h(GHC.)h(V)-9 b(ersions)19 b(from)h(4.04)f(onw)o(ards)g(ha)n(v)o
(e)g(lo)n(wer)h(memory)f(requirements)f(for)479 5254
y(compiling)h(Happ)o(y-generated)d(parsers.)p Black 3661
5692 a Fh(29)p Black eop
%%Page: 30 30
30 29 bop Black -2 67 a Fh(Chapter)20 b(6.)g(T)-5 b(ips)p
Black Black 396 579 a Fe(\225)p Black 81 w Fk(Using)20
b(Happ)o(y')-5 b(s)20 b Fg(-g)44 b(-a)h(-c)20 b Fk(options)f(when)h
(generating)e(parsers)i(to)g(be)h(compiled)d(with)j(GHC)g(will)g(help)
479 687 y(considerably)-5 b(.)-2 1105 y Fm(6.3.)39 b(Finding)f(T)-9
b(ype)39 b(Err)m(or)n(s)396 1285 y Fk(Finding)19 b(type)h(errors)f(in)i
(grammar)d(\002les)j(is)h(inherently)c(dif)n(\002cult)i(because)f(the)h
(code)g(for)f(reductions)g(is)i(mo)o(v)o(ed)396 1393
y(around)e(before)f(being)i(placed)f(in)h(the)h(parser)-5
b(.)19 b(W)-7 b(e)22 b(currently)c(ha)n(v)o(e)i(no)g(w)o(ay)g(of)g
(passing)g(the)g(original)f(\002lename)396 1501 y(and)h(line)g(numbers)
f(to)h(the)g(Hask)o(ell)h(compiler)m(,)d(so)j(there)f(is)h(no)e
(alternati)n(v)o(e)g(b)n(ut)i(to)f(look)f(at)i(the)f(parser)g(and)396
1609 y(match)g(the)g(code)g(to)g(the)g(grammar)f(\002le.)h(An)g(info)g
(\002le)h(\(generated)d(by)i(the)g Fg(-i)g Fk(option\))f(can)h(be)g
(helpful)f(here.)396 1758 y(T)-7 b(ype)19 b(signature)g(sometimes)g
(help)h(by)f(pinning)f(do)n(wn)g(the)i(particular)e(error)h(to)h(the)f
(place)h(where)f(the)g(mistak)o(e)h(is)396 1866 y(made,)g(not)f(half)h
(w)o(ay)h(do)n(wn)e(the)h(\002le.)h(F)o(or)e(each)h(production)e(in)i
(the)g(grammar)m(,)e(there')-5 b(s)20 b(a)h(bit)f(of)g(code)g(in)g(the)
396 1974 y(generated)f(\002le)i(that)f(looks)g(lik)o(e)g(this:)396
2154 y Fg(HappyAbsSyn<n>)43 b(\()h(E)h(\))396 2345 y
Fk(where)20 b Fg(E)g Fk(is)i(the)e(Hask)o(ell)g(e)o(xpression)f(from)g
(the)h(grammar)f(\002le)i(\(with)f Fg($n)g Fk(replaced)f(by)h
Fg(happy_var_n)p Fk(\).)e(If)396 2453 y(there)i(is)h(a)g(type)e
(signature)h(for)f(this)i(production,)c(then)j(Happ)o(y)f(will)i(ha)n
(v)o(e)f(tak)o(en)f(it)i(into)f(account)f(when)396 2561
y(declaring)g(the)h(Happ)o(yAbsSyn)e(datatype,)h(and)h(errors)f(in)h
Fg(E)h Fk(will)g(be)f(caught)f(right)h(here.)f(Of)i(course,)e(the)h
(error)396 2669 y(may)g(be)g(really)g(caused)g(by)f(incorrect)g(use)i
(of)e(one)h(of)g(the)g Fg(happy_var_n)f Fk(v)n(ariables.)396
2819 y(\(this)i(section)f(will)h(contain)e(more)g(info)h(as)g(we)h
(gain)e(e)o(xperience)f(with)j(creating)e(grammar)f(\002les.)j(Please)g
(send)396 2926 y(us)g(an)o(y)e(helpful)g(tips)i(you)e(\002nd.\))-2
3345 y Fm(6.4.)39 b(Con\003ict)f(Tips)396 3525 y Fk(Con\003icts)21
b(arise)f(from)g(ambiguities)f(in)h(the)g(grammar)-5
b(.)19 b(That)h(is,)h(some)f(input)f(sequences)h(may)f(possess)i(more)
396 3633 y(than)f(one)g(parse.)f(Shift/reduce)g(con\003icts)h(are)g
(benign)f(in)h(the)g(sense)h(that)f(the)o(y)g(are)g(easily)g(resolv)o
(ed)f(\(Happ)o(y)396 3741 y(automatically)g(selects)h(the)g(shift)g
(action,)f(as)i(this)f(is)h(usually)e(the)h(intended)f(one\).)f
(Reduce/reduce)g(con\003icts)i(are)396 3849 y(more)g(serious.)f(A)i
(reduce/reduce)c(con\003ict)j(implies)g(that)h(a)f(certain)g(sequence)f
(of)h(tok)o(ens)g(on)f(the)i(input)e(can)396 3956 y(represent)g(more)g
(than)g(one)g(non-terminal,)e(and)j(the)g(parser)f(is)h(uncertain)f(as)
h(to)g(which)f(reduction)f(rule)i(to)g(use.)g(It)396
4064 y(will)h(select)g(the)f(reduction)f(rule)g(uppermost)g(in)h(the)g
(grammar)f(\002le,)h(so)h(if)f(you)g(really)f(must)i(ha)n(v)o(e)e(a)396
4172 y(reduce/reduce)f(con\003ict)h(you)h(can)g(select)g(which)g(rule)g
(will)h(be)f(used)g(by)g(putting)f(it)i(\002rst)g(in)f(your)f(grammar)f
(\002le.)396 4322 y(It)j(is)g(usually)e(possible)h(to)h(remo)o(v)o(e)d
(con\003icts)i(from)f(the)h(grammar)m(,)e(b)n(ut)j(sometimes)e(this)i
(is)g(at)g(the)f(e)o(xpense)f(of)396 4430 y(clarity)h(and)g(simplicity)
-5 b(.)19 b(Here)h(is)h(a)g(cut-do)n(wn)d(e)o(xample)h(from)g(the)h
(grammar)f(of)h(Hask)o(ell)g(\(1.2\):)396 4610 y Fg(exp)224
b(:)45 b(exp)f(op)g(exp0)755 4707 y(|)h(exp0)396 4901
y(exp0)179 b(:)45 b(if)f(exp)g(then)h(exp)f(else)g(exp)755
4998 y(...)755 5096 y(|)h(atom)396 5290 y(atom)179 b(:)45
b(var)p Black -2 5692 a Fh(30)p Black eop
%%Page: 31 31
31 30 bop Black 3230 67 a Fh(Chapter)20 b(6.)g(T)-5 b(ips)p
Black 755 579 a Fg(|)45 b(integer)755 676 y(|)g('\(')f(exp)g('\)')755
773 y(...)396 964 y Fk(This)21 b(grammar)d(has)j(a)f(shift/reduce)f
(con\003ict,)g(due)h(to)g(the)h(follo)n(wing)d(ambiguity)-5
b(.)18 b(In)i(an)g(input)f(such)h(as)396 1144 y Fg(if)45
b(1)f(then)h(2)f(else)g(3)h(+)g(4)396 1335 y Fk(the)20
b(grammar)f(doesn')o(t)g(specify)g(whether)g(the)i(parse)e(should)h(be)
396 1515 y Fg(if)45 b(1)f(then)h(2)f(else)g(\(3)h(+)g(4\))396
1706 y Fk(or)396 1887 y Fg(\(if)g(1)f(then)g(2)h(else)f(3\))h(+)f(4)396
2077 y Fk(and)20 b(the)g(ambiguity)f(sho)n(ws)h(up)g(as)h(a)f
(shift/reduce)f(con\003ict)h(on)f(reading)g(the)h('op')f(symbol.)g(In)h
(this)h(case,)f(the)396 2185 y(\002rst)h(parse)f(is)h(the)f(intended)f
(one)h(\(the)g(')o(longest)f(parse')h(rule\),)f(which)h(corresponds)d
(to)k(the)f(shift)g(action.)396 2293 y(Remo)o(ving)e(this)j(con\003ict)
e(relies)h(on)f(noticing)g(that)h(the)g(e)o(xpression)e(on)h(the)h
(left-hand)e(side)i(of)f(an)h(in\002x)g(operator)396
2401 y(can')o(t)f(be)g(an)h Fg(exp0)f Fk(\(the)g(grammar)f(pre)n
(viously)g(said)i(otherwise,)e(b)n(ut)i(since)f(the)h(con\003ict)f(w)o
(as)i(resolv)o(ed)d(as)i(shift,)396 2509 y(this)h(parse)f(w)o(as)h(not)
f(allo)n(wed\).)f(W)-7 b(e)21 b(can)f(reformulate)e(the)i
Fg(exp)h Fk(rule)e(as:)396 2689 y Fg(exp)224 b(:)45 b(atom)f(op)g(exp)
755 2786 y(|)h(exp0)396 2977 y Fk(and)20 b(this)h(remo)o(v)o(es)d(the)i
(con\003ict,)g(b)n(ut)g(at)h(the)f(e)o(xpense)f(of)h(some)g(stack)g
(space)g(while)h(parsing)e(\(we)h(turned)f(a)396 3085
y(left-recursion)f(into)i(a)h(right-recursion\).)16 b(There)k(are)g
(alternati)n(v)o(es)f(using)h(left-recursion,)d(b)n(ut)k(the)o(y)e(all)
i(in)m(v)n(olv)o(e)396 3193 y(adding)e(e)o(xtra)g(states)j(to)e(the)g
(parser)m(,)f(so)i(most)f(programmers)d(will)k(prefer)e(to)i(k)o(eep)e
(the)i(con\003ict)e(in)i(f)o(a)n(v)n(our)e(of)h(a)396
3301 y(clearer)g(and)f(more)h(ef)n(\002cient)g(parser)-5
b(.)-2 3629 y Fd(6.4.1.)35 b(LALR\(1\))f(par)n(ser)n(s)396
3797 y Fk(There)20 b(are)g(three)f(basic)i(w)o(ays)f(to)h(b)n(uild)e(a)
i(shift-reduce)d(parser)-5 b(.)20 b(Full)h(LR\(1\))e(\(the)h(`L)-8
b(')20 b(is)i(the)e(direction)f(in)h(which)396 3905 y(the)g(input)f(is)
h(scanned,)e(the)i(`R')f(is)i(the)e(w)o(ay)h(in)g(which)f(the)g(parse)g
(is)i(b)n(uilt,)e(and)g(the)h(`1')f(is)h(the)f(number)f(of)h(tok)o(ens)
396 4013 y(of)h(lookahead\))e(generates)h(a)i(parser)e(with)i(man)o(y)e
(states,)i(and)e(is)i(therefore)e(lar)o(ge)g(and)h(slo)n(w)-5
b(.)19 b(SLR\(1\))h(\(simple)396 4121 y(LR\(1\)\))g(is)h(a)f(cut-do)n
(wn)f(v)o(ersion)f(of)i(LR\(1\))g(which)g(generates)f(parsers)h(with)g
(roughly)e(one-tenth)h(as)h(man)o(y)396 4229 y(states,)h(b)n(ut)f
(lacks)h(the)f(po)n(wer)f(to)i(parse)e(man)o(y)g(grammars)g(\(it)i
(\002nds)f(con\003icts)g(in)g(grammars)f(which)h(ha)n(v)o(e)f(none)396
4337 y(under)g(LR\(1\)\).)396 4486 y(LALR\(1\))h(\(look-ahead)d
(LR\(1\)\),)i(the)h(method)f(used)h(by)g(Happ)o(y)f(and)h(yacc,)f(is)i
(tradeof)n(f)e(between)g(the)h(tw)o(o.)h(An)396 4594
y(LALR\(1\))f(parser)f(has)i(the)f(same)g(number)f(of)g(states)j(as)f
(an)f(SLR\(1\))g(parser)m(,)f(b)n(ut)h(it)h(uses)f(a)h(more)e(comple)o
(x)396 4702 y(method)g(to)h(calculate)g(the)g(lookahead)e(tok)o(ens)i
(that)g(are)h(v)n(alid)e(at)i(each)f(point,)f(and)h(resolv)o(es)f(man)o
(y)g(of)h(the)396 4810 y(con\003icts)g(that)h(SLR\(1\))e(\002nds.)h(Ho)
n(we)n(v)o(er)m(,)f(there)g(may)h(still)h(be)f(con\003icts)h(in)f(an)g
(LALR\(1\))f(parser)h(that)g(w)o(ouldn')o(t)396 4918
y(be)g(there)g(with)g(full)h(LR\(1\).)p Black 3661 5692
a Fh(31)p Black eop
%%Page: 32 32
32 31 bop Black -2 67 a Fh(Chapter)20 b(6.)g(T)-5 b(ips)p
Black -2 597 a Fm(Notes)p Black 396 777 a Fk(1.)p Black
70 w(omitting)19 b(the)i Fg(-a)f Fk(may)g(generate)f(slightly)g(f)o
(aster)i(parsers,)e(b)n(ut)i(the)o(y)e(will)i(be)f(much)f(bigger)-5
b(.)p Black -2 5692 a Fh(32)p Black eop
%%Page: 33 33
33 32 bop Black Black Black Black eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
